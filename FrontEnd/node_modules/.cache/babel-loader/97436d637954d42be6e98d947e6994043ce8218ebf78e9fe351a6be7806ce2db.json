{"ast":null,"code":"/*!\n * iro.js v5.5.2\n * 2016-2021 James Daniel\n * Licensed under MPL 2.0\n * github.com/jaames/iro.js\n */\n\nvar n,\n  u,\n  t,\n  i,\n  r,\n  o,\n  f = {},\n  e = [],\n  c = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;\nfunction s(n, l) {\n  for (var u in l) {\n    n[u] = l[u];\n  }\n  return n;\n}\nfunction a(n) {\n  var l = n.parentNode;\n  l && l.removeChild(n);\n}\nfunction h(n, l, u) {\n  var t,\n    i,\n    r,\n    o,\n    f = arguments;\n  if (l = s({}, l), arguments.length > 3) {\n    for (u = [u], t = 3; t < arguments.length; t++) {\n      u.push(f[t]);\n    }\n  }\n  if (null != u && (l.children = u), null != n && null != n.defaultProps) {\n    for (i in n.defaultProps) {\n      void 0 === l[i] && (l[i] = n.defaultProps[i]);\n    }\n  }\n  return o = l.key, null != (r = l.ref) && delete l.ref, null != o && delete l.key, v(n, l, o, r);\n}\nfunction v(l, u, t, i) {\n  var r = {\n    type: l,\n    props: u,\n    key: t,\n    ref: i,\n    __k: null,\n    __p: null,\n    __b: 0,\n    __e: null,\n    l: null,\n    __c: null,\n    constructor: void 0\n  };\n  return n.vnode && n.vnode(r), r;\n}\nfunction d(n) {\n  return n.children;\n}\nfunction y(n) {\n  if (null == n || \"boolean\" == typeof n) {\n    return null;\n  }\n  if (\"string\" == typeof n || \"number\" == typeof n) {\n    return v(null, n, null, null);\n  }\n  if (null != n.__e || null != n.__c) {\n    var l = v(n.type, n.props, n.key, null);\n    return l.__e = n.__e, l;\n  }\n  return n;\n}\nfunction m(n, l) {\n  this.props = n, this.context = l;\n}\nfunction w(n, l) {\n  if (null == l) {\n    return n.__p ? w(n.__p, n.__p.__k.indexOf(n) + 1) : null;\n  }\n  for (var u; l < n.__k.length; l++) {\n    if (null != (u = n.__k[l]) && null != u.__e) {\n      return u.__e;\n    }\n  }\n  return \"function\" == typeof n.type ? w(n) : null;\n}\nfunction g(n) {\n  var l, u;\n  if (null != (n = n.__p) && null != n.__c) {\n    for (n.__e = n.__c.base = null, l = 0; l < n.__k.length; l++) {\n      if (null != (u = n.__k[l]) && null != u.__e) {\n        n.__e = n.__c.base = u.__e;\n        break;\n      }\n    }\n    return g(n);\n  }\n}\nfunction k(l) {\n  (!l.__d && (l.__d = !0) && 1 === u.push(l) || i !== n.debounceRendering) && (i = n.debounceRendering, (n.debounceRendering || t)(_));\n}\nfunction _() {\n  var n, l, t, i, r, o, f, e;\n  for (u.sort(function (n, l) {\n    return l.__v.__b - n.__v.__b;\n  }); n = u.pop();) {\n    n.__d && (t = void 0, i = void 0, o = (r = (l = n).__v).__e, f = l.__P, e = l.u, l.u = !1, f && (t = [], i = $(f, r, s({}, r), l.__n, void 0 !== f.ownerSVGElement, null, t, e, null == o ? w(r) : o), j(t, r), i != o && g(r)));\n  }\n}\nfunction b(n, l, u, t, i, r, o, c, s) {\n  var h,\n    v,\n    p,\n    d,\n    y,\n    m,\n    g,\n    k = u && u.__k || e,\n    _ = k.length;\n  if (c == f && (c = null != r ? r[0] : _ ? w(u, 0) : null), h = 0, l.__k = x(l.__k, function (u) {\n    if (null != u) {\n      if (u.__p = l, u.__b = l.__b + 1, null === (p = k[h]) || p && u.key == p.key && u.type === p.type) {\n        k[h] = void 0;\n      } else {\n        for (v = 0; v < _; v++) {\n          if ((p = k[v]) && u.key == p.key && u.type === p.type) {\n            k[v] = void 0;\n            break;\n          }\n          p = null;\n        }\n      }\n      if (d = $(n, u, p = p || f, t, i, r, o, null, c, s), (v = u.ref) && p.ref != v && (g || (g = [])).push(v, u.__c || d, u), null != d) {\n        if (null == m && (m = d), null != u.l) {\n          d = u.l, u.l = null;\n        } else if (r == p || d != c || null == d.parentNode) {\n          n: if (null == c || c.parentNode !== n) {\n            n.appendChild(d);\n          } else {\n            for (y = c, v = 0; (y = y.nextSibling) && v < _; v += 2) {\n              if (y == d) {\n                break n;\n              }\n            }\n            n.insertBefore(d, c);\n          }\n          \"option\" == l.type && (n.value = \"\");\n        }\n        c = d.nextSibling, \"function\" == typeof l.type && (l.l = d);\n      }\n    }\n    return h++, u;\n  }), l.__e = m, null != r && \"function\" != typeof l.type) {\n    for (h = r.length; h--;) {\n      null != r[h] && a(r[h]);\n    }\n  }\n  for (h = _; h--;) {\n    null != k[h] && D(k[h], k[h]);\n  }\n  if (g) {\n    for (h = 0; h < g.length; h++) {\n      A(g[h], g[++h], g[++h]);\n    }\n  }\n}\nfunction x(n, l, u) {\n  if (null == u && (u = []), null == n || \"boolean\" == typeof n) {\n    l && u.push(l(null));\n  } else if (Array.isArray(n)) {\n    for (var t = 0; t < n.length; t++) {\n      x(n[t], l, u);\n    }\n  } else {\n    u.push(l ? l(y(n)) : n);\n  }\n  return u;\n}\nfunction C(n, l, u, t, i) {\n  var r;\n  for (r in u) {\n    r in l || N(n, r, null, u[r], t);\n  }\n  for (r in l) {\n    i && \"function\" != typeof l[r] || \"value\" === r || \"checked\" === r || u[r] === l[r] || N(n, r, l[r], u[r], t);\n  }\n}\nfunction P(n, l, u) {\n  \"-\" === l[0] ? n.setProperty(l, u) : n[l] = \"number\" == typeof u && !1 === c.test(l) ? u + \"px\" : null == u ? \"\" : u;\n}\nfunction N(n, l, u, t, i) {\n  var r, o, f, e, c;\n  if (\"key\" === (l = i ? \"className\" === l ? \"class\" : l : \"class\" === l ? \"className\" : l) || \"children\" === l) ;else if (\"style\" === l) {\n    if (r = n.style, \"string\" == typeof u) {\n      r.cssText = u;\n    } else {\n      if (\"string\" == typeof t && (r.cssText = \"\", t = null), t) {\n        for (o in t) {\n          u && o in u || P(r, o, \"\");\n        }\n      }\n      if (u) {\n        for (f in u) {\n          t && u[f] === t[f] || P(r, f, u[f]);\n        }\n      }\n    }\n  } else {\n    \"o\" === l[0] && \"n\" === l[1] ? (e = l !== (l = l.replace(/Capture$/, \"\")), c = l.toLowerCase(), l = (c in n ? c : l).slice(2), u ? (t || n.addEventListener(l, T, e), (n.t || (n.t = {}))[l] = u) : n.removeEventListener(l, T, e)) : \"list\" !== l && \"tagName\" !== l && \"form\" !== l && !i && l in n ? n[l] = null == u ? \"\" : u : \"function\" != typeof u && \"dangerouslySetInnerHTML\" !== l && (l !== (l = l.replace(/^xlink:?/, \"\")) ? null == u || !1 === u ? n.removeAttributeNS(\"http://www.w3.org/1999/xlink\", l.toLowerCase()) : n.setAttributeNS(\"http://www.w3.org/1999/xlink\", l.toLowerCase(), u) : null == u || !1 === u ? n.removeAttribute(l) : n.setAttribute(l, u));\n  }\n}\nfunction T(l) {\n  return this.t[l.type](n.event ? n.event(l) : l);\n}\nfunction $(l, u, t, i, r, o, f, e, c, a) {\n  var h,\n    v,\n    p,\n    y,\n    w,\n    g,\n    k,\n    _,\n    C,\n    P,\n    N = u.type;\n  if (void 0 !== u.constructor) {\n    return null;\n  }\n  (h = n.__b) && h(u);\n  try {\n    n: if (\"function\" == typeof N) {\n      if (_ = u.props, C = (h = N.contextType) && i[h.__c], P = h ? C ? C.props.value : h.__p : i, t.__c ? k = (v = u.__c = t.__c).__p = v.__E : (\"prototype\" in N && N.prototype.render ? u.__c = v = new N(_, P) : (u.__c = v = new m(_, P), v.constructor = N, v.render = H), C && C.sub(v), v.props = _, v.state || (v.state = {}), v.context = P, v.__n = i, p = v.__d = !0, v.__h = []), null == v.__s && (v.__s = v.state), null != N.getDerivedStateFromProps && s(v.__s == v.state ? v.__s = s({}, v.__s) : v.__s, N.getDerivedStateFromProps(_, v.__s)), p) {\n        null == N.getDerivedStateFromProps && null != v.componentWillMount && v.componentWillMount(), null != v.componentDidMount && f.push(v);\n      } else {\n        if (null == N.getDerivedStateFromProps && null == e && null != v.componentWillReceiveProps && v.componentWillReceiveProps(_, P), !e && null != v.shouldComponentUpdate && !1 === v.shouldComponentUpdate(_, v.__s, P)) {\n          for (v.props = _, v.state = v.__s, v.__d = !1, v.__v = u, u.__e = null != c ? c !== t.__e ? c : t.__e : null, u.__k = t.__k, h = 0; h < u.__k.length; h++) {\n            u.__k[h] && (u.__k[h].__p = u);\n          }\n          break n;\n        }\n        null != v.componentWillUpdate && v.componentWillUpdate(_, v.__s, P);\n      }\n      for (y = v.props, w = v.state, v.context = P, v.props = _, v.state = v.__s, (h = n.__r) && h(u), v.__d = !1, v.__v = u, v.__P = l, h = v.render(v.props, v.state, v.context), u.__k = x(null != h && h.type == d && null == h.key ? h.props.children : h), null != v.getChildContext && (i = s(s({}, i), v.getChildContext())), p || null == v.getSnapshotBeforeUpdate || (g = v.getSnapshotBeforeUpdate(y, w)), b(l, u, t, i, r, o, f, c, a), v.base = u.__e; h = v.__h.pop();) {\n        v.__s && (v.state = v.__s), h.call(v);\n      }\n      p || null == y || null == v.componentDidUpdate || v.componentDidUpdate(y, w, g), k && (v.__E = v.__p = null);\n    } else {\n      u.__e = z(t.__e, u, t, i, r, o, f, a);\n    }\n    (h = n.diffed) && h(u);\n  } catch (l) {\n    n.__e(l, u, t);\n  }\n  return u.__e;\n}\nfunction j(l, u) {\n  for (var t; t = l.pop();) {\n    try {\n      t.componentDidMount();\n    } catch (l) {\n      n.__e(l, t.__v);\n    }\n  }\n  n.__c && n.__c(u);\n}\nfunction z(n, l, u, t, i, r, o, c) {\n  var s,\n    a,\n    h,\n    v,\n    p = u.props,\n    d = l.props;\n  if (i = \"svg\" === l.type || i, null == n && null != r) {\n    for (s = 0; s < r.length; s++) {\n      if (null != (a = r[s]) && (null === l.type ? 3 === a.nodeType : a.localName === l.type)) {\n        n = a, r[s] = null;\n        break;\n      }\n    }\n  }\n  if (null == n) {\n    if (null === l.type) {\n      return document.createTextNode(d);\n    }\n    n = i ? document.createElementNS(\"http://www.w3.org/2000/svg\", l.type) : document.createElement(l.type), r = null;\n  }\n  return null === l.type ? p !== d && (null != r && (r[r.indexOf(n)] = null), n.data = d) : l !== u && (null != r && (r = e.slice.call(n.childNodes)), h = (p = u.props || f).dangerouslySetInnerHTML, v = d.dangerouslySetInnerHTML, c || (v || h) && (v && h && v.__html == h.__html || (n.innerHTML = v && v.__html || \"\")), C(n, d, p, i, c), l.__k = l.props.children, v || b(n, l, u, t, \"foreignObject\" !== l.type && i, r, o, f, c), c || (\"value\" in d && void 0 !== d.value && d.value !== n.value && (n.value = null == d.value ? \"\" : d.value), \"checked\" in d && void 0 !== d.checked && d.checked !== n.checked && (n.checked = d.checked))), n;\n}\nfunction A(l, u, t) {\n  try {\n    \"function\" == typeof l ? l(u) : l.current = u;\n  } catch (l) {\n    n.__e(l, t);\n  }\n}\nfunction D(l, u, t) {\n  var i, r, o;\n  if (n.unmount && n.unmount(l), (i = l.ref) && A(i, null, u), t || \"function\" == typeof l.type || (t = null != (r = l.__e)), l.__e = l.l = null, null != (i = l.__c)) {\n    if (i.componentWillUnmount) {\n      try {\n        i.componentWillUnmount();\n      } catch (l) {\n        n.__e(l, u);\n      }\n    }\n    i.base = i.__P = null;\n  }\n  if (i = l.__k) {\n    for (o = 0; o < i.length; o++) {\n      i[o] && D(i[o], u, t);\n    }\n  }\n  null != r && a(r);\n}\nfunction H(n, l, u) {\n  return this.constructor(n, u);\n}\nfunction I(l, u, t) {\n  var i, o, c;\n  n.__p && n.__p(l, u), o = (i = t === r) ? null : t && t.__k || u.__k, l = h(d, null, [l]), c = [], $(u, i ? u.__k = l : (t || u).__k = l, o || f, f, void 0 !== u.ownerSVGElement, t && !i ? [t] : o ? null : e.slice.call(u.childNodes), c, !1, t || f, i), j(c, l);\n}\nn = {}, m.prototype.setState = function (n, l) {\n  var u = this.__s !== this.state && this.__s || (this.__s = s({}, this.state));\n  (\"function\" != typeof n || (n = n(u, this.props))) && s(u, n), null != n && this.__v && (this.u = !1, l && this.__h.push(l), k(this));\n}, m.prototype.forceUpdate = function (n) {\n  this.__v && (n && this.__h.push(n), this.u = !0, k(this));\n}, m.prototype.render = d, u = [], t = \"function\" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, i = n.debounceRendering, n.__e = function (n, l, u) {\n  for (var t; l = l.__p;) {\n    if ((t = l.__c) && !t.__p) {\n      try {\n        if (t.constructor && null != t.constructor.getDerivedStateFromError) {\n          t.setState(t.constructor.getDerivedStateFromError(n));\n        } else {\n          if (null == t.componentDidCatch) {\n            continue;\n          }\n          t.componentDidCatch(n);\n        }\n        return k(t.__E = t);\n      } catch (l) {\n        n = l;\n      }\n    }\n  }\n  throw n;\n}, r = f, o = 0;\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n  return Constructor;\n}\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    var arguments$1 = arguments;\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments$1[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\n// Some regular expressions for rgb() and hsl() Colors are borrowed from tinyColor\n// https://github.com/bgrins/TinyColor\n// Kelvin temperature math borrowed from Neil Barlett's implementation\n// from https://github.com/neilbartlett/color-temperature\n// https://www.w3.org/TR/css3-values/#integers\nvar CSS_INTEGER = '[-\\\\+]?\\\\d+%?'; // http://www.w3.org/TR/css3-values/#number-value\n\nvar CSS_NUMBER = '[-\\\\+]?\\\\d*\\\\.\\\\d+%?'; // Allow positive/negative integer/number. Don't capture the either/or, just the entire outcome\n\nvar CSS_UNIT = '(?:' + CSS_NUMBER + ')|(?:' + CSS_INTEGER + ')'; // Parse function params\n// Parens and commas are optional, and this also allows for whitespace between numbers\n\nvar PERMISSIVE_MATCH_3 = '[\\\\s|\\\\(]+(' + CSS_UNIT + ')[,|\\\\s]+(' + CSS_UNIT + ')[,|\\\\s]+(' + CSS_UNIT + ')\\\\s*\\\\)?';\nvar PERMISSIVE_MATCH_4 = '[\\\\s|\\\\(]+(' + CSS_UNIT + ')[,|\\\\s]+(' + CSS_UNIT + ')[,|\\\\s]+(' + CSS_UNIT + ')[,|\\\\s]+(' + CSS_UNIT + ')\\\\s*\\\\)?'; // Regex patterns for functional color strings\n\nvar REGEX_FUNCTIONAL_RGB = new RegExp('rgb' + PERMISSIVE_MATCH_3);\nvar REGEX_FUNCTIONAL_RGBA = new RegExp('rgba' + PERMISSIVE_MATCH_4);\nvar REGEX_FUNCTIONAL_HSL = new RegExp('hsl' + PERMISSIVE_MATCH_3);\nvar REGEX_FUNCTIONAL_HSLA = new RegExp('hsla' + PERMISSIVE_MATCH_4); // Color string parsing regex\n\nvar HEX_START = '^(?:#?|0x?)';\nvar HEX_INT_SINGLE = '([0-9a-fA-F]{1})';\nvar HEX_INT_DOUBLE = '([0-9a-fA-F]{2})';\nvar REGEX_HEX_3 = new RegExp(HEX_START + HEX_INT_SINGLE + HEX_INT_SINGLE + HEX_INT_SINGLE + '$');\nvar REGEX_HEX_4 = new RegExp(HEX_START + HEX_INT_SINGLE + HEX_INT_SINGLE + HEX_INT_SINGLE + HEX_INT_SINGLE + '$');\nvar REGEX_HEX_6 = new RegExp(HEX_START + HEX_INT_DOUBLE + HEX_INT_DOUBLE + HEX_INT_DOUBLE + '$');\nvar REGEX_HEX_8 = new RegExp(HEX_START + HEX_INT_DOUBLE + HEX_INT_DOUBLE + HEX_INT_DOUBLE + HEX_INT_DOUBLE + '$'); // Kelvin temperature bounds\n\nvar KELVIN_MIN = 2000;\nvar KELVIN_MAX = 40000; // Math shorthands\n\nvar log = Math.log,\n  round = Math.round,\n  floor = Math.floor;\n/**\r\n * @desc Clamp a number between a min and max value\r\n * @param num - input value\r\n * @param min - min allowed value\r\n * @param max - max allowed value\r\n */\n\nfunction clamp(num, min, max) {\n  return Math.min(Math.max(num, min), max);\n}\n/**\r\n * @desc Parse a css unit string - either regular int or a percentage number\r\n * @param str - css unit string\r\n * @param max - max unit value, used for calculating percentages\r\n */\n\nfunction parseUnit(str, max) {\n  var isPercentage = str.indexOf('%') > -1;\n  var num = parseFloat(str);\n  return isPercentage ? max / 100 * num : num;\n}\n/**\r\n * @desc Parse hex str to an int\r\n * @param str - hex string to parse\r\n */\n\nfunction parseHexInt(str) {\n  return parseInt(str, 16);\n}\n/**\r\n * @desc Convert nunber into to 2-digit hex\r\n * @param int - number to convert\r\n */\n\nfunction intToHex(_int) {\n  return _int.toString(16).padStart(2, '0');\n}\nvar IroColor = /*#__PURE__*/\nfunction () {\n  /**\r\n    * @constructor Color object\r\n    * @param value - initial color value\r\n  */\n  function IroColor(value, onChange) {\n    // The default Color value\n    this.$ = {\n      h: 0,\n      s: 0,\n      v: 0,\n      a: 1\n    };\n    if (value) {\n      this.set(value);\n    } // The watch callback function for this Color will be stored here\n\n    this.onChange = onChange;\n    this.initialValue = _extends({}, this.$); // copy initial value\n  }\n  /**\r\n    * @desc Set the Color from any valid value\r\n    * @param value - new color value\r\n  */\n\n  var _proto = IroColor.prototype;\n  _proto.set = function set(value) {\n    if (typeof value === 'string') {\n      if (/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(value)) {\n        this.hexString = value;\n      } else if (/^rgba?/.test(value)) {\n        this.rgbString = value;\n      } else if (/^hsla?/.test(value)) {\n        this.hslString = value;\n      }\n    } else if (typeof value === 'object') {\n      if (value instanceof IroColor) {\n        this.hsva = value.hsva;\n      } else if ('r' in value && 'g' in value && 'b' in value) {\n        this.rgb = value;\n      } else if ('h' in value && 's' in value && 'v' in value) {\n        this.hsv = value;\n      } else if ('h' in value && 's' in value && 'l' in value) {\n        this.hsl = value;\n      } else if ('kelvin' in value) {\n        this.kelvin = value.kelvin;\n      }\n    } else {\n      throw new Error('Invalid color value');\n    }\n  }\n  /**\r\n    * @desc Shortcut to set a specific channel value\r\n    * @param format - hsv | hsl | rgb\r\n    * @param channel - individual channel to set, for example if model = hsl, chanel = h | s | l\r\n    * @param value - new value for the channel\r\n  */;\n\n  _proto.setChannel = function setChannel(format, channel, value) {\n    var _extends2;\n    this[format] = _extends({}, this[format], (_extends2 = {}, _extends2[channel] = value, _extends2));\n  }\n  /**\r\n   * @desc Reset color back to its initial value\r\n   */;\n\n  _proto.reset = function reset() {\n    this.hsva = this.initialValue;\n  }\n  /**\r\n    * @desc make new Color instance with the same value as this one\r\n  */;\n\n  _proto.clone = function clone() {\n    return new IroColor(this);\n  }\n  /**\r\n   * @desc remove color onChange\r\n   */;\n\n  _proto.unbind = function unbind() {\n    this.onChange = undefined;\n  }\n  /**\r\n    * @desc Convert hsv object to rgb\r\n    * @param hsv - hsv color object\r\n  */;\n\n  IroColor.hsvToRgb = function hsvToRgb(hsv) {\n    var h = hsv.h / 60;\n    var s = hsv.s / 100;\n    var v = hsv.v / 100;\n    var i = floor(h);\n    var f = h - i;\n    var p = v * (1 - s);\n    var q = v * (1 - f * s);\n    var t = v * (1 - (1 - f) * s);\n    var mod = i % 6;\n    var r = [v, q, p, p, t, v][mod];\n    var g = [t, v, v, q, p, p][mod];\n    var b = [p, p, t, v, v, q][mod];\n    return {\n      r: clamp(r * 255, 0, 255),\n      g: clamp(g * 255, 0, 255),\n      b: clamp(b * 255, 0, 255)\n    };\n  }\n  /**\r\n    * @desc Convert rgb object to hsv\r\n    * @param rgb - rgb object\r\n  */;\n\n  IroColor.rgbToHsv = function rgbToHsv(rgb) {\n    var r = rgb.r / 255;\n    var g = rgb.g / 255;\n    var b = rgb.b / 255;\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var delta = max - min;\n    var hue = 0;\n    var value = max;\n    var saturation = max === 0 ? 0 : delta / max;\n    switch (max) {\n      case min:\n        hue = 0; // achromatic\n\n        break;\n      case r:\n        hue = (g - b) / delta + (g < b ? 6 : 0);\n        break;\n      case g:\n        hue = (b - r) / delta + 2;\n        break;\n      case b:\n        hue = (r - g) / delta + 4;\n        break;\n    }\n    return {\n      h: hue * 60 % 360,\n      s: clamp(saturation * 100, 0, 100),\n      v: clamp(value * 100, 0, 100)\n    };\n  }\n  /**\r\n    * @desc Convert hsv object to hsl\r\n    * @param hsv - hsv object\r\n  */;\n\n  IroColor.hsvToHsl = function hsvToHsl(hsv) {\n    var s = hsv.s / 100;\n    var v = hsv.v / 100;\n    var l = (2 - s) * v;\n    var divisor = l <= 1 ? l : 2 - l; // Avoid division by zero when lightness is close to zero\n\n    var saturation = divisor < 1e-9 ? 0 : s * v / divisor;\n    return {\n      h: hsv.h,\n      s: clamp(saturation * 100, 0, 100),\n      l: clamp(l * 50, 0, 100)\n    };\n  }\n  /**\r\n    * @desc Convert hsl object to hsv\r\n    * @param hsl - hsl object\r\n  */;\n\n  IroColor.hslToHsv = function hslToHsv(hsl) {\n    var l = hsl.l * 2;\n    var s = hsl.s * (l <= 100 ? l : 200 - l) / 100; // Avoid division by zero when l + s is near 0\n\n    var saturation = l + s < 1e-9 ? 0 : 2 * s / (l + s);\n    return {\n      h: hsl.h,\n      s: clamp(saturation * 100, 0, 100),\n      v: clamp((l + s) / 2, 0, 100)\n    };\n  }\n  /**\r\n    * @desc Convert a kelvin temperature to an approx, RGB value\r\n    * @param kelvin - kelvin temperature\r\n  */;\n\n  IroColor.kelvinToRgb = function kelvinToRgb(kelvin) {\n    var temp = kelvin / 100;\n    var r, g, b;\n    if (temp < 66) {\n      r = 255;\n      g = -155.25485562709179 - 0.44596950469579133 * (g = temp - 2) + 104.49216199393888 * log(g);\n      b = temp < 20 ? 0 : -254.76935184120902 + 0.8274096064007395 * (b = temp - 10) + 115.67994401066147 * log(b);\n    } else {\n      r = 351.97690566805693 + 0.114206453784165 * (r = temp - 55) - 40.25366309332127 * log(r);\n      g = 325.4494125711974 + 0.07943456536662342 * (g = temp - 50) - 28.0852963507957 * log(g);\n      b = 255;\n    }\n    return {\n      r: clamp(floor(r), 0, 255),\n      g: clamp(floor(g), 0, 255),\n      b: clamp(floor(b), 0, 255)\n    };\n  }\n  /**\r\n   * @desc Convert an RGB color to an approximate kelvin temperature\r\n   * @param kelvin - kelvin temperature\r\n  */;\n\n  IroColor.rgbToKelvin = function rgbToKelvin(rgb) {\n    var r = rgb.r,\n      b = rgb.b;\n    var eps = 0.4;\n    var minTemp = KELVIN_MIN;\n    var maxTemp = KELVIN_MAX;\n    var temp;\n    while (maxTemp - minTemp > eps) {\n      temp = (maxTemp + minTemp) * 0.5;\n      var _rgb = IroColor.kelvinToRgb(temp);\n      if (_rgb.b / _rgb.r >= b / r) {\n        maxTemp = temp;\n      } else {\n        minTemp = temp;\n      }\n    }\n    return temp;\n  };\n  _createClass(IroColor, [{\n    key: \"hsv\",\n    get: function get() {\n      // value is cloned to allow changes to be made to the values before passing them back\n      var value = this.$;\n      return {\n        h: value.h,\n        s: value.s,\n        v: value.v\n      };\n    },\n    set: function set(newValue) {\n      var oldValue = this.$;\n      newValue = _extends({}, oldValue, newValue); // If this Color is being watched for changes we need to compare the new and old values to check the difference\n      // Otherwise we can just be lazy\n\n      if (this.onChange) {\n        // Compute changed values\n        var changes = {\n          h: false,\n          v: false,\n          s: false,\n          a: false\n        };\n        for (var key in oldValue) {\n          changes[key] = newValue[key] != oldValue[key];\n        }\n        this.$ = newValue; // If the value has changed, call hook callback\n\n        if (changes.h || changes.s || changes.v || changes.a) {\n          this.onChange(this, changes);\n        }\n      } else {\n        this.$ = newValue;\n      }\n    }\n  }, {\n    key: \"hsva\",\n    get: function get() {\n      return _extends({}, this.$);\n    },\n    set: function set(value) {\n      this.hsv = value;\n    }\n  }, {\n    key: \"hue\",\n    get: function get() {\n      return this.$.h;\n    },\n    set: function set(value) {\n      this.hsv = {\n        h: value\n      };\n    }\n  }, {\n    key: \"saturation\",\n    get: function get() {\n      return this.$.s;\n    },\n    set: function set(value) {\n      this.hsv = {\n        s: value\n      };\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this.$.v;\n    },\n    set: function set(value) {\n      this.hsv = {\n        v: value\n      };\n    }\n  }, {\n    key: \"alpha\",\n    get: function get() {\n      return this.$.a;\n    },\n    set: function set(value) {\n      this.hsv = _extends({}, this.hsv, {\n        a: value\n      });\n    }\n  }, {\n    key: \"kelvin\",\n    get: function get() {\n      return IroColor.rgbToKelvin(this.rgb);\n    },\n    set: function set(value) {\n      this.rgb = IroColor.kelvinToRgb(value);\n    }\n  }, {\n    key: \"red\",\n    get: function get() {\n      var rgb = this.rgb;\n      return rgb.r;\n    },\n    set: function set(value) {\n      this.rgb = _extends({}, this.rgb, {\n        r: value\n      });\n    }\n  }, {\n    key: \"green\",\n    get: function get() {\n      var rgb = this.rgb;\n      return rgb.g;\n    },\n    set: function set(value) {\n      this.rgb = _extends({}, this.rgb, {\n        g: value\n      });\n    }\n  }, {\n    key: \"blue\",\n    get: function get() {\n      var rgb = this.rgb;\n      return rgb.b;\n    },\n    set: function set(value) {\n      this.rgb = _extends({}, this.rgb, {\n        b: value\n      });\n    }\n  }, {\n    key: \"rgb\",\n    get: function get() {\n      var _IroColor$hsvToRgb = IroColor.hsvToRgb(this.$),\n        r = _IroColor$hsvToRgb.r,\n        g = _IroColor$hsvToRgb.g,\n        b = _IroColor$hsvToRgb.b;\n      return {\n        r: round(r),\n        g: round(g),\n        b: round(b)\n      };\n    },\n    set: function set(value) {\n      this.hsv = _extends({}, IroColor.rgbToHsv(value), {\n        a: value.a === undefined ? 1 : value.a\n      });\n    }\n  }, {\n    key: \"rgba\",\n    get: function get() {\n      return _extends({}, this.rgb, {\n        a: this.alpha\n      });\n    },\n    set: function set(value) {\n      this.rgb = value;\n    }\n  }, {\n    key: \"hsl\",\n    get: function get() {\n      var _IroColor$hsvToHsl = IroColor.hsvToHsl(this.$),\n        h = _IroColor$hsvToHsl.h,\n        s = _IroColor$hsvToHsl.s,\n        l = _IroColor$hsvToHsl.l;\n      return {\n        h: round(h),\n        s: round(s),\n        l: round(l)\n      };\n    },\n    set: function set(value) {\n      this.hsv = _extends({}, IroColor.hslToHsv(value), {\n        a: value.a === undefined ? 1 : value.a\n      });\n    }\n  }, {\n    key: \"hsla\",\n    get: function get() {\n      return _extends({}, this.hsl, {\n        a: this.alpha\n      });\n    },\n    set: function set(value) {\n      this.hsl = value;\n    }\n  }, {\n    key: \"rgbString\",\n    get: function get() {\n      var rgb = this.rgb;\n      return \"rgb(\" + rgb.r + \", \" + rgb.g + \", \" + rgb.b + \")\";\n    },\n    set: function set(value) {\n      var match;\n      var r,\n        g,\n        b,\n        a = 1;\n      if (match = REGEX_FUNCTIONAL_RGB.exec(value)) {\n        r = parseUnit(match[1], 255);\n        g = parseUnit(match[2], 255);\n        b = parseUnit(match[3], 255);\n      } else if (match = REGEX_FUNCTIONAL_RGBA.exec(value)) {\n        r = parseUnit(match[1], 255);\n        g = parseUnit(match[2], 255);\n        b = parseUnit(match[3], 255);\n        a = parseUnit(match[4], 1);\n      }\n      if (match) {\n        this.rgb = {\n          r: r,\n          g: g,\n          b: b,\n          a: a\n        };\n      } else {\n        throw new Error('Invalid rgb string');\n      }\n    }\n  }, {\n    key: \"rgbaString\",\n    get: function get() {\n      var rgba = this.rgba;\n      return \"rgba(\" + rgba.r + \", \" + rgba.g + \", \" + rgba.b + \", \" + rgba.a + \")\";\n    },\n    set: function set(value) {\n      this.rgbString = value;\n    }\n  }, {\n    key: \"hexString\",\n    get: function get() {\n      var rgb = this.rgb;\n      return \"#\" + intToHex(rgb.r) + intToHex(rgb.g) + intToHex(rgb.b);\n    },\n    set: function set(value) {\n      var match;\n      var r,\n        g,\n        b,\n        a = 255;\n      if (match = REGEX_HEX_3.exec(value)) {\n        r = parseHexInt(match[1]) * 17;\n        g = parseHexInt(match[2]) * 17;\n        b = parseHexInt(match[3]) * 17;\n      } else if (match = REGEX_HEX_4.exec(value)) {\n        r = parseHexInt(match[1]) * 17;\n        g = parseHexInt(match[2]) * 17;\n        b = parseHexInt(match[3]) * 17;\n        a = parseHexInt(match[4]) * 17;\n      } else if (match = REGEX_HEX_6.exec(value)) {\n        r = parseHexInt(match[1]);\n        g = parseHexInt(match[2]);\n        b = parseHexInt(match[3]);\n      } else if (match = REGEX_HEX_8.exec(value)) {\n        r = parseHexInt(match[1]);\n        g = parseHexInt(match[2]);\n        b = parseHexInt(match[3]);\n        a = parseHexInt(match[4]);\n      }\n      if (match) {\n        this.rgb = {\n          r: r,\n          g: g,\n          b: b,\n          a: a / 255\n        };\n      } else {\n        throw new Error('Invalid hex string');\n      }\n    }\n  }, {\n    key: \"hex8String\",\n    get: function get() {\n      var rgba = this.rgba;\n      return \"#\" + intToHex(rgba.r) + intToHex(rgba.g) + intToHex(rgba.b) + intToHex(floor(rgba.a * 255));\n    },\n    set: function set(value) {\n      this.hexString = value;\n    }\n  }, {\n    key: \"hslString\",\n    get: function get() {\n      var hsl = this.hsl;\n      return \"hsl(\" + hsl.h + \", \" + hsl.s + \"%, \" + hsl.l + \"%)\";\n    },\n    set: function set(value) {\n      var match;\n      var h,\n        s,\n        l,\n        a = 1;\n      if (match = REGEX_FUNCTIONAL_HSL.exec(value)) {\n        h = parseUnit(match[1], 360);\n        s = parseUnit(match[2], 100);\n        l = parseUnit(match[3], 100);\n      } else if (match = REGEX_FUNCTIONAL_HSLA.exec(value)) {\n        h = parseUnit(match[1], 360);\n        s = parseUnit(match[2], 100);\n        l = parseUnit(match[3], 100);\n        a = parseUnit(match[4], 1);\n      }\n      if (match) {\n        this.hsl = {\n          h: h,\n          s: s,\n          l: l,\n          a: a\n        };\n      } else {\n        throw new Error('Invalid hsl string');\n      }\n    }\n  }, {\n    key: \"hslaString\",\n    get: function get() {\n      var hsla = this.hsla;\n      return \"hsla(\" + hsla.h + \", \" + hsla.s + \"%, \" + hsla.l + \"%, \" + hsla.a + \")\";\n    },\n    set: function set(value) {\n      this.hslString = value;\n    }\n  }]);\n  return IroColor;\n}();\nvar sliderDefaultOptions = {\n  sliderShape: 'bar',\n  sliderType: 'value',\n  minTemperature: 2200,\n  maxTemperature: 11000\n};\n/**\r\n * @desc Get the bounding dimensions of the slider\r\n * @param props - slider props\r\n */\n\nfunction getSliderDimensions(props) {\n  var _sliderSize;\n  var width = props.width,\n    sliderSize = props.sliderSize,\n    borderWidth = props.borderWidth,\n    handleRadius = props.handleRadius,\n    padding = props.padding,\n    sliderShape = props.sliderShape;\n  var ishorizontal = props.layoutDirection === 'horizontal'; // automatically calculate sliderSize if its not defined\n\n  sliderSize = (_sliderSize = sliderSize) != null ? _sliderSize : padding * 2 + handleRadius * 2;\n  if (sliderShape === 'circle') {\n    return {\n      handleStart: props.padding + props.handleRadius,\n      handleRange: width - padding * 2 - handleRadius * 2,\n      width: width,\n      height: width,\n      cx: width / 2,\n      cy: width / 2,\n      radius: width / 2 - borderWidth / 2\n    };\n  } else {\n    return {\n      handleStart: sliderSize / 2,\n      handleRange: width - sliderSize,\n      radius: sliderSize / 2,\n      x: 0,\n      y: 0,\n      width: ishorizontal ? sliderSize : width,\n      height: ishorizontal ? width : sliderSize\n    };\n  }\n}\n/**\r\n * @desc Get the current slider value for a given color, as a percentage\r\n * @param props - slider props\r\n * @param color\r\n */\n\nfunction getCurrentSliderValue(props, color) {\n  var hsva = color.hsva;\n  var rgb = color.rgb;\n  switch (props.sliderType) {\n    case 'red':\n      return rgb.r / 2.55;\n    case 'green':\n      return rgb.g / 2.55;\n    case 'blue':\n      return rgb.b / 2.55;\n    case 'alpha':\n      return hsva.a * 100;\n    case 'kelvin':\n      var minTemperature = props.minTemperature,\n        maxTemperature = props.maxTemperature;\n      var temperatureRange = maxTemperature - minTemperature;\n      var percent = (color.kelvin - minTemperature) / temperatureRange * 100; // clmap percentage\n\n      return Math.max(0, Math.min(percent, 100));\n    case 'hue':\n      return hsva.h /= 3.6;\n    case 'saturation':\n      return hsva.s;\n    case 'value':\n    default:\n      return hsva.v;\n  }\n}\n/**\r\n * @desc Get the current slider value from user input\r\n * @param props - slider props\r\n * @param x - global input x position\r\n * @param y - global input y position\r\n */\n\nfunction getSliderValueFromInput(props, x, y) {\n  var _getSliderDimensions = getSliderDimensions(props),\n    handleRange = _getSliderDimensions.handleRange,\n    handleStart = _getSliderDimensions.handleStart;\n  var handlePos;\n  if (props.layoutDirection === 'horizontal') {\n    handlePos = -1 * y + handleRange + handleStart;\n  } else {\n    handlePos = x - handleStart;\n  } // clamp handle position\n\n  handlePos = Math.max(Math.min(handlePos, handleRange), 0);\n  var percent = Math.round(100 / handleRange * handlePos);\n  switch (props.sliderType) {\n    case 'kelvin':\n      var minTemperature = props.minTemperature,\n        maxTemperature = props.maxTemperature;\n      var temperatureRange = maxTemperature - minTemperature;\n      return minTemperature + temperatureRange * (percent / 100);\n    case 'alpha':\n      return percent / 100;\n    case 'hue':\n      return percent * 3.6;\n    case 'red':\n    case 'blue':\n    case 'green':\n      return percent * 2.55;\n    default:\n      return percent;\n  }\n}\n/**\r\n * @desc Get the current handle position for a given color\r\n * @param props - slider props\r\n * @param color\r\n */\n\nfunction getSliderHandlePosition(props, color) {\n  var _getSliderDimensions2 = getSliderDimensions(props),\n    width = _getSliderDimensions2.width,\n    height = _getSliderDimensions2.height,\n    handleRange = _getSliderDimensions2.handleRange,\n    handleStart = _getSliderDimensions2.handleStart;\n  var ishorizontal = props.layoutDirection === 'horizontal';\n  var sliderValue = getCurrentSliderValue(props, color);\n  var midPoint = ishorizontal ? width / 2 : height / 2;\n  var handlePos = handleStart + sliderValue / 100 * handleRange;\n  if (ishorizontal) {\n    handlePos = -1 * handlePos + handleRange + handleStart * 2;\n  }\n  return {\n    x: ishorizontal ? midPoint : handlePos,\n    y: ishorizontal ? handlePos : midPoint\n  };\n}\n/**\r\n * @desc Get the gradient stops for a slider\r\n * @param props - slider props\r\n * @param color\r\n */\n\nfunction getSliderGradient(props, color) {\n  var hsv = color.hsv;\n  var rgb = color.rgb;\n  switch (props.sliderType) {\n    case 'red':\n      return [[0, \"rgb(\" + 0 + \",\" + rgb.g + \",\" + rgb.b + \")\"], [100, \"rgb(\" + 255 + \",\" + rgb.g + \",\" + rgb.b + \")\"]];\n    case 'green':\n      return [[0, \"rgb(\" + rgb.r + \",\" + 0 + \",\" + rgb.b + \")\"], [100, \"rgb(\" + rgb.r + \",\" + 255 + \",\" + rgb.b + \")\"]];\n    case 'blue':\n      return [[0, \"rgb(\" + rgb.r + \",\" + rgb.g + \",\" + 0 + \")\"], [100, \"rgb(\" + rgb.r + \",\" + rgb.g + \",\" + 255 + \")\"]];\n    case 'alpha':\n      return [[0, \"rgba(\" + rgb.r + \",\" + rgb.g + \",\" + rgb.b + \",0)\"], [100, \"rgb(\" + rgb.r + \",\" + rgb.g + \",\" + rgb.b + \")\"]];\n    case 'kelvin':\n      var stops = [];\n      var min = props.minTemperature;\n      var max = props.maxTemperature;\n      var numStops = 8;\n      var range = max - min;\n      for (var kelvin = min, stop = 0; kelvin < max; kelvin += range / numStops, stop += 1) {\n        var _IroColor$kelvinToRgb = IroColor.kelvinToRgb(kelvin),\n          r = _IroColor$kelvinToRgb.r,\n          g = _IroColor$kelvinToRgb.g,\n          b = _IroColor$kelvinToRgb.b;\n        stops.push([100 / numStops * stop, \"rgb(\" + r + \",\" + g + \",\" + b + \")\"]);\n      }\n      return stops;\n    case 'hue':\n      return [[0, '#f00'], [16.666, '#ff0'], [33.333, '#0f0'], [50, '#0ff'], [66.666, '#00f'], [83.333, '#f0f'], [100, '#f00']];\n    case 'saturation':\n      var noSat = IroColor.hsvToHsl({\n        h: hsv.h,\n        s: 0,\n        v: hsv.v\n      });\n      var fullSat = IroColor.hsvToHsl({\n        h: hsv.h,\n        s: 100,\n        v: hsv.v\n      });\n      return [[0, \"hsl(\" + noSat.h + \",\" + noSat.s + \"%,\" + noSat.l + \"%)\"], [100, \"hsl(\" + fullSat.h + \",\" + fullSat.s + \"%,\" + fullSat.l + \"%)\"]];\n    case 'value':\n    default:\n      var hsl = IroColor.hsvToHsl({\n        h: hsv.h,\n        s: hsv.s,\n        v: 100\n      });\n      return [[0, '#000'], [100, \"hsl(\" + hsl.h + \",\" + hsl.s + \"%,\" + hsl.l + \"%)\"]];\n  }\n}\nvar TAU = Math.PI * 2; // javascript's modulo operator doesn't produce positive numbers with negative input\n// https://dev.to/maurobringolf/a-neat-trick-to-compute-modulo-of-negative-numbers-111e\n\nvar mod = function mod(a, n) {\n  return (a % n + n) % n;\n}; // distance between points (x, y) and (0, 0)\n\nvar dist = function dist(x, y) {\n  return Math.sqrt(x * x + y * y);\n};\n/**\r\n * @param props - wheel props\r\n * @internal\r\n */\n\nfunction getHandleRange(props) {\n  return props.width / 2 - props.padding - props.handleRadius - props.borderWidth;\n}\n/**\r\n * Returns true if point (x, y) lands inside the wheel\r\n * @param props - wheel props\r\n * @param x\r\n * @param y\r\n */\n\nfunction isInputInsideWheel(props, x, y) {\n  var _getWheelDimensions = getWheelDimensions(props),\n    cx = _getWheelDimensions.cx,\n    cy = _getWheelDimensions.cy;\n  var r = props.width / 2;\n  return dist(cx - x, cy - y) < r;\n}\n/**\r\n * @desc Get the point as the center of the wheel\r\n * @param props - wheel props\r\n */\n\nfunction getWheelDimensions(props) {\n  var r = props.width / 2;\n  return {\n    width: props.width,\n    radius: r - props.borderWidth,\n    cx: r,\n    cy: r\n  };\n}\n/**\r\n * @desc Translate an angle according to wheelAngle and wheelDirection\r\n * @param props - wheel props\r\n * @param angle - input angle\r\n */\n\nfunction translateWheelAngle(props, angle, invert) {\n  var wheelAngle = props.wheelAngle;\n  var wheelDirection = props.wheelDirection; // inverted and clockwisee\n\n  if (invert && wheelDirection === 'clockwise') {\n    angle = wheelAngle + angle;\n  } // clockwise (input handling)\n  else if (wheelDirection === 'clockwise') {\n    angle = 360 - wheelAngle + angle;\n  } // inverted and anticlockwise\n  else if (invert && wheelDirection === 'anticlockwise') {\n    angle = wheelAngle + 180 - angle;\n  } // anticlockwise (input handling)\n  else if (wheelDirection === 'anticlockwise') {\n    angle = wheelAngle - angle;\n  }\n  return mod(angle, 360);\n}\n/**\r\n * @desc Get the current handle position for a given color\r\n * @param props - wheel props\r\n * @param color\r\n */\n\nfunction getWheelHandlePosition(props, color) {\n  var hsv = color.hsv;\n  var _getWheelDimensions2 = getWheelDimensions(props),\n    cx = _getWheelDimensions2.cx,\n    cy = _getWheelDimensions2.cy;\n  var handleRange = getHandleRange(props);\n  var handleAngle = (180 + translateWheelAngle(props, hsv.h, true)) * (TAU / 360);\n  var handleDist = hsv.s / 100 * handleRange;\n  var direction = props.wheelDirection === 'clockwise' ? -1 : 1;\n  return {\n    x: cx + handleDist * Math.cos(handleAngle) * direction,\n    y: cy + handleDist * Math.sin(handleAngle) * direction\n  };\n}\n/**\r\n * @desc Get the current wheel value from user input\r\n * @param props - wheel props\r\n * @param x - global input x position\r\n * @param y - global input y position\r\n */\n\nfunction getWheelValueFromInput(props, x, y) {\n  var _getWheelDimensions3 = getWheelDimensions(props),\n    cx = _getWheelDimensions3.cx,\n    cy = _getWheelDimensions3.cy;\n  var handleRange = getHandleRange(props);\n  x = cx - x;\n  y = cy - y; // Calculate the hue by converting the angle to radians\n\n  var hue = translateWheelAngle(props, Math.atan2(-y, -x) * (360 / TAU)); // Find the point's distance from the center of the wheel\n  // This is used to show the saturation level\n\n  var handleDist = Math.min(dist(x, y), handleRange);\n  return {\n    h: Math.round(hue),\n    s: Math.round(100 / handleRange * handleDist)\n  };\n}\n/**\r\n * @desc Get the bounding dimensions of the box\r\n * @param props - box props\r\n */\n\nfunction getBoxDimensions(props) {\n  var width = props.width,\n    boxHeight = props.boxHeight,\n    padding = props.padding,\n    handleRadius = props.handleRadius;\n  return {\n    width: width,\n    height: boxHeight != null ? boxHeight : width,\n    radius: padding + handleRadius\n  };\n}\n/**\r\n * @desc Get the current box value from user input\r\n * @param props - box props\r\n * @param x - global input x position\r\n * @param y - global input y position\r\n */\n\nfunction getBoxValueFromInput(props, x, y) {\n  var _getBoxDimensions = getBoxDimensions(props),\n    width = _getBoxDimensions.width,\n    height = _getBoxDimensions.height,\n    radius = _getBoxDimensions.radius;\n  var handleStart = radius;\n  var handleRangeX = width - radius * 2;\n  var handleRangeY = height - radius * 2;\n  var percentX = (x - handleStart) / handleRangeX * 100;\n  var percentY = (y - handleStart) / handleRangeY * 100;\n  return {\n    s: Math.max(0, Math.min(percentX, 100)),\n    v: Math.max(0, Math.min(100 - percentY, 100))\n  };\n}\n/**\r\n * @desc Get the current box handle position for a given color\r\n * @param props - box props\r\n * @param color\r\n */\n\nfunction getBoxHandlePosition(props, color) {\n  var _getBoxDimensions2 = getBoxDimensions(props),\n    width = _getBoxDimensions2.width,\n    height = _getBoxDimensions2.height,\n    radius = _getBoxDimensions2.radius;\n  var hsv = color.hsv;\n  var handleStart = radius;\n  var handleRangeX = width - radius * 2;\n  var handleRangeY = height - radius * 2;\n  return {\n    x: handleStart + hsv.s / 100 * handleRangeX,\n    y: handleStart + (handleRangeY - hsv.v / 100 * handleRangeY)\n  };\n}\n/**\r\n * @desc Get the gradient stops for a box\r\n * @param props - box props\r\n * @param color\r\n */\n\nfunction getBoxGradients(props, color) {\n  var hue = color.hue;\n  return [\n  // saturation gradient\n  [[0, '#fff'], [100, \"hsl(\" + hue + \",100%,50%)\"]],\n  // lightness gradient\n  [[0, 'rgba(0,0,0,0)'], [100, '#000']]];\n}\n\n// Keep track of html <base> elements for resolveSvgUrl\n// getElementsByTagName returns a live HTMLCollection, which stays in sync with the DOM tree\n// So it only needs to be called once\nvar BASE_ELEMENTS;\n/**\r\n * @desc Resolve an SVG reference URL\r\n * This is required to work around how Safari and iOS webviews handle gradient URLS under certain conditions\r\n * If a page is using a client-side routing library which makes use of the HTML <base> tag,\r\n * Safari won't be able to render SVG gradients properly (as they are referenced by URLs)\r\n * More info on the problem:\r\n * https://stackoverflow.com/questions/19742805/angular-and-svg-filters/19753427#19753427\r\n * https://github.com/jaames/iro.js/issues/18\r\n * https://github.com/jaames/iro.js/issues/45\r\n * https://github.com/jaames/iro.js/pull/89\r\n * @props url - SVG reference URL\r\n */\n\nfunction resolveSvgUrl(url) {\n  if (!BASE_ELEMENTS) {\n    BASE_ELEMENTS = document.getElementsByTagName('base');\n  } // Sniff useragent string to check if the user is running Safari\n\n  var ua = window.navigator.userAgent;\n  var isSafari = /^((?!chrome|android).)*safari/i.test(ua);\n  var isIos = /iPhone|iPod|iPad/i.test(ua);\n  var location = window.location;\n  return (isSafari || isIos) && BASE_ELEMENTS.length > 0 ? location.protocol + \"//\" + location.host + location.pathname + location.search + url : url;\n}\n/**\r\n * @desc Given a specifc (x, y) position, test if there's a handle there and return its index, else return null.\r\n *       This is used for components like the box and wheel which support multiple handles when multicolor is active\r\n * @props x - point x position\r\n * @props y - point y position\r\n * @props handlePositions - array of {x, y} coords for each handle\r\n */\n\nfunction getHandleAtPoint(props, x, y, handlePositions) {\n  for (var i = 0; i < handlePositions.length; i++) {\n    var dX = handlePositions[i].x - x;\n    var dY = handlePositions[i].y - y;\n    var dist = Math.sqrt(dX * dX + dY * dY);\n    if (dist < props.handleRadius) {\n      return i;\n    }\n  }\n  return null;\n}\nfunction cssBorderStyles(props) {\n  return {\n    boxSizing: 'border-box',\n    border: props.borderWidth + \"px solid \" + props.borderColor\n  };\n}\nfunction cssGradient(type, direction, stops) {\n  return type + \"-gradient(\" + direction + \", \" + stops.map(function (_ref) {\n    var o = _ref[0],\n      col = _ref[1];\n    return col + \" \" + o + \"%\";\n  }).join(',') + \")\";\n}\nfunction cssValue(value) {\n  if (typeof value === 'string') {\n    return value;\n  }\n  return value + \"px\";\n}\nvar iroColorPickerOptionDefaults = {\n  width: 300,\n  height: 300,\n  color: '#fff',\n  colors: [],\n  padding: 6,\n  layoutDirection: 'vertical',\n  borderColor: '#fff',\n  borderWidth: 0,\n  handleRadius: 8,\n  activeHandleRadius: null,\n  handleSvg: null,\n  handleProps: {\n    x: 0,\n    y: 0\n  },\n  wheelLightness: true,\n  wheelAngle: 0,\n  wheelDirection: 'anticlockwise',\n  sliderSize: null,\n  sliderMargin: 12,\n  boxHeight: null\n};\nvar SECONDARY_EVENTS = [\"mousemove\" /* MouseMove */, \"touchmove\" /* TouchMove */, \"mouseup\" /* MouseUp */, \"touchend\" /* TouchEnd */];\n// Base component class for iro UI components\n// This extends the Preact component class to allow them to react to mouse/touch input events by themselves\nvar IroComponentWrapper = /*@__PURE__*/function (Component) {\n  function IroComponentWrapper(props) {\n    Component.call(this, props);\n    // Generate unique ID for the component\n    // This can be used to generate unique IDs for gradients, etc\n    this.uid = (Math.random() + 1).toString(36).substring(5);\n  }\n  if (Component) IroComponentWrapper.__proto__ = Component;\n  IroComponentWrapper.prototype = Object.create(Component && Component.prototype);\n  IroComponentWrapper.prototype.constructor = IroComponentWrapper;\n  IroComponentWrapper.prototype.render = function render(props) {\n    var eventHandler = this.handleEvent.bind(this);\n    var rootProps = {\n      onMouseDown: eventHandler,\n      // https://github.com/jaames/iro.js/issues/126\n      // https://github.com/preactjs/preact/issues/2113#issuecomment-553408767\n      ontouchstart: eventHandler\n    };\n    var isHorizontal = props.layoutDirection === 'horizontal';\n    var margin = props.margin === null ? props.sliderMargin : props.margin;\n    var rootStyles = {\n      overflow: 'visible',\n      display: isHorizontal ? 'inline-block' : 'block'\n    };\n    // first component shouldn't have any margin\n    if (props.index > 0) {\n      rootStyles[isHorizontal ? 'marginLeft' : 'marginTop'] = margin;\n    }\n    return h(d, null, props.children(this.uid, rootProps, rootStyles));\n  };\n  // More info on handleEvent:\n  // https://medium.com/@WebReflection/dom-handleevent-a-cross-platform-standard-since-year-2000-5bf17287fd38\n  // TL;DR this lets us have a single point of entry for multiple events, and we can avoid callback/binding hell\n  IroComponentWrapper.prototype.handleEvent = function handleEvent(e) {\n    var this$1 = this;\n    var inputHandler = this.props.onInput;\n    // Get the screen position of the component\n    var bounds = this.base.getBoundingClientRect();\n    // Prefect default browser action\n    e.preventDefault();\n    // Detect if the event is a touch event by checking if it has the `touches` property\n    // If it is a touch event, use the first touch input\n    var point = e.touches ? e.changedTouches[0] : e;\n    var x = point.clientX - bounds.left;\n    var y = point.clientY - bounds.top;\n    switch (e.type) {\n      case \"mousedown\" /* MouseDown */:\n      case \"touchstart\" /* TouchStart */:\n        var result = inputHandler(x, y, 0 /* Start */);\n        if (result !== false) {\n          SECONDARY_EVENTS.forEach(function (event) {\n            document.addEventListener(event, this$1, {\n              passive: false\n            });\n          });\n        }\n        break;\n      case \"mousemove\" /* MouseMove */:\n      case \"touchmove\" /* TouchMove */:\n        inputHandler(x, y, 1 /* Move */);\n        break;\n      case \"mouseup\" /* MouseUp */:\n      case \"touchend\" /* TouchEnd */:\n        inputHandler(x, y, 2 /* End */);\n        SECONDARY_EVENTS.forEach(function (event) {\n          document.removeEventListener(event, this$1, {\n            passive: false\n          });\n        });\n        break;\n    }\n  };\n  return IroComponentWrapper;\n}(m);\nfunction IroHandle(props) {\n  var radius = props.r;\n  var url = props.url;\n  var cx = radius;\n  var cy = radius;\n  return h(\"svg\", {\n    className: \"IroHandle IroHandle--\" + props.index + \" \" + (props.isActive ? 'IroHandle--isActive' : ''),\n    style: {\n      '-webkit-tap-highlight-color': 'rgba(0, 0, 0, 0);',\n      transform: \"translate(\" + cssValue(props.x) + \", \" + cssValue(props.y) + \")\",\n      willChange: 'transform',\n      top: cssValue(-radius),\n      left: cssValue(-radius),\n      width: cssValue(radius * 2),\n      height: cssValue(radius * 2),\n      position: 'absolute',\n      overflow: 'visible'\n    }\n  }, url && h(\"use\", Object.assign({\n    xlinkHref: resolveSvgUrl(url)\n  }, props.props)), !url && h(\"circle\", {\n    cx: cx,\n    cy: cy,\n    r: radius,\n    fill: \"none\",\n    \"stroke-width\": 2,\n    stroke: \"#000\"\n  }), !url && h(\"circle\", {\n    cx: cx,\n    cy: cy,\n    r: radius - 2,\n    fill: props.fill,\n    \"stroke-width\": 2,\n    stroke: \"#fff\"\n  }));\n}\nIroHandle.defaultProps = {\n  fill: 'none',\n  x: 0,\n  y: 0,\n  r: 8,\n  url: null,\n  props: {\n    x: 0,\n    y: 0\n  }\n};\nfunction IroSlider(props) {\n  var activeIndex = props.activeIndex;\n  var activeColor = activeIndex !== undefined && activeIndex < props.colors.length ? props.colors[activeIndex] : props.color;\n  var ref = getSliderDimensions(props);\n  var width = ref.width;\n  var height = ref.height;\n  var radius = ref.radius;\n  var handlePos = getSliderHandlePosition(props, activeColor);\n  var gradient = getSliderGradient(props, activeColor);\n  function handleInput(x, y, type) {\n    var value = getSliderValueFromInput(props, x, y);\n    props.parent.inputActive = true;\n    activeColor[props.sliderType] = value;\n    props.onInput(type, props.id);\n  }\n  return h(IroComponentWrapper, Object.assign({}, props, {\n    onInput: handleInput\n  }), function (uid, rootProps, rootStyles) {\n    return h(\"div\", Object.assign({}, rootProps, {\n      className: \"IroSlider\",\n      style: Object.assign({}, {\n        position: 'relative',\n        width: cssValue(width),\n        height: cssValue(height),\n        borderRadius: cssValue(radius),\n        // checkered bg to represent alpha\n        background: \"conic-gradient(#ccc 25%, #fff 0 50%, #ccc 0 75%, #fff 0)\",\n        backgroundSize: '8px 8px'\n      }, rootStyles)\n    }), h(\"div\", {\n      className: \"IroSliderGradient\",\n      style: Object.assign({}, {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: \"100%\",\n        height: \"100%\",\n        borderRadius: cssValue(radius),\n        background: cssGradient('linear', props.layoutDirection === 'horizontal' ? 'to top' : 'to right', gradient)\n      }, cssBorderStyles(props))\n    }), h(IroHandle, {\n      isActive: true,\n      index: activeColor.index,\n      r: props.handleRadius,\n      url: props.handleSvg,\n      props: props.handleProps,\n      x: handlePos.x,\n      y: handlePos.y\n    }));\n  });\n}\nIroSlider.defaultProps = Object.assign({}, sliderDefaultOptions);\nfunction IroBox(props) {\n  var ref = getBoxDimensions(props);\n  var width = ref.width;\n  var height = ref.height;\n  var radius = ref.radius;\n  var colors = props.colors;\n  var colorPicker = props.parent;\n  var activeIndex = props.activeIndex;\n  var activeColor = activeIndex !== undefined && activeIndex < props.colors.length ? props.colors[activeIndex] : props.color;\n  var gradients = getBoxGradients(props, activeColor);\n  var handlePositions = colors.map(function (color) {\n    return getBoxHandlePosition(props, color);\n  });\n  function handleInput(x, y, inputType) {\n    if (inputType === 0 /* Start */) {\n      // getHandleAtPoint() returns the index for the handle if the point 'hits' it, or null otherwise\n      var activeHandle = getHandleAtPoint(props, x, y, handlePositions);\n      // If the input hit a handle, set it as the active handle, but don't update the color\n      if (activeHandle !== null) {\n        colorPicker.setActiveColor(activeHandle);\n      }\n      // If the input didn't hit a handle, set the currently active handle to that position\n      else {\n        colorPicker.inputActive = true;\n        activeColor.hsv = getBoxValueFromInput(props, x, y);\n        props.onInput(inputType, props.id);\n      }\n    }\n    // move is fired when the user has started dragging\n    else if (inputType === 1 /* Move */) {\n      colorPicker.inputActive = true;\n      activeColor.hsv = getBoxValueFromInput(props, x, y);\n    }\n    // let the color picker fire input:start, input:move or input:end events\n    props.onInput(inputType, props.id);\n  }\n  return h(IroComponentWrapper, Object.assign({}, props, {\n    onInput: handleInput\n  }), function (uid, rootProps, rootStyles) {\n    return h(\"div\", Object.assign({}, rootProps, {\n      className: \"IroBox\",\n      style: Object.assign({}, {\n        width: cssValue(width),\n        height: cssValue(height),\n        position: 'relative'\n      }, rootStyles)\n    }), h(\"div\", {\n      className: \"IroBox\",\n      style: Object.assign({}, {\n        width: '100%',\n        height: '100%',\n        borderRadius: cssValue(radius)\n      }, cssBorderStyles(props), {\n        background: cssGradient('linear', 'to bottom', gradients[1]) + ',' + cssGradient('linear', 'to right', gradients[0])\n      })\n    }), colors.filter(function (color) {\n      return color !== activeColor;\n    }).map(function (color) {\n      return h(IroHandle, {\n        isActive: false,\n        index: color.index,\n        fill: color.hslString,\n        r: props.handleRadius,\n        url: props.handleSvg,\n        props: props.handleProps,\n        x: handlePositions[color.index].x,\n        y: handlePositions[color.index].y\n      });\n    }), h(IroHandle, {\n      isActive: true,\n      index: activeColor.index,\n      fill: activeColor.hslString,\n      r: props.activeHandleRadius || props.handleRadius,\n      url: props.handleSvg,\n      props: props.handleProps,\n      x: handlePositions[activeColor.index].x,\n      y: handlePositions[activeColor.index].y\n    }));\n  });\n}\nvar HUE_GRADIENT_CLOCKWISE = 'conic-gradient(red, yellow, lime, aqua, blue, magenta, red)';\nvar HUE_GRADIENT_ANTICLOCKWISE = 'conic-gradient(red, magenta, blue, aqua, lime, yellow, red)';\nfunction IroWheel(props) {\n  var ref = getWheelDimensions(props);\n  var width = ref.width;\n  var colors = props.colors;\n  var borderWidth = props.borderWidth;\n  var colorPicker = props.parent;\n  var activeColor = props.color;\n  var hsv = activeColor.hsv;\n  var handlePositions = colors.map(function (color) {\n    return getWheelHandlePosition(props, color);\n  });\n  var circleStyles = {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n    borderRadius: '50%',\n    boxSizing: 'border-box'\n  };\n  function handleInput(x, y, inputType) {\n    if (inputType === 0 /* Start */) {\n      // input hitbox is a square, \n      // so we want to ignore any initial clicks outside the circular shape of the wheel\n      if (!isInputInsideWheel(props, x, y)) {\n        // returning false will cease all event handling for this interaction\n        return false;\n      }\n      // getHandleAtPoint() returns the index for the handle if the point 'hits' it, or null otherwise\n      var activeHandle = getHandleAtPoint(props, x, y, handlePositions);\n      // If the input hit a handle, set it as the active handle, but don't update the color\n      if (activeHandle !== null) {\n        colorPicker.setActiveColor(activeHandle);\n      }\n      // If the input didn't hit a handle, set the currently active handle to that position\n      else {\n        colorPicker.inputActive = true;\n        activeColor.hsv = getWheelValueFromInput(props, x, y);\n        props.onInput(inputType, props.id);\n      }\n    }\n    // move is fired when the user has started dragging\n    else if (inputType === 1 /* Move */) {\n      colorPicker.inputActive = true;\n      activeColor.hsv = getWheelValueFromInput(props, x, y);\n    }\n    // let the color picker fire input:start, input:move or input:end events\n    props.onInput(inputType, props.id);\n  }\n  return h(IroComponentWrapper, Object.assign({}, props, {\n    onInput: handleInput\n  }), function (uid, rootProps, rootStyles) {\n    return h(\"div\", Object.assign({}, rootProps, {\n      className: \"IroWheel\",\n      style: Object.assign({}, {\n        width: cssValue(width),\n        height: cssValue(width),\n        position: 'relative'\n      }, rootStyles)\n    }), h(\"div\", {\n      className: \"IroWheelHue\",\n      style: Object.assign({}, circleStyles, {\n        transform: \"rotateZ(\" + (props.wheelAngle + 90) + \"deg)\",\n        background: props.wheelDirection === 'clockwise' ? HUE_GRADIENT_CLOCKWISE : HUE_GRADIENT_ANTICLOCKWISE\n      })\n    }), h(\"div\", {\n      className: \"IroWheelSaturation\",\n      style: Object.assign({}, circleStyles, {\n        background: 'radial-gradient(circle closest-side, #fff, transparent)'\n      })\n    }), props.wheelLightness && h(\"div\", {\n      className: \"IroWheelLightness\",\n      style: Object.assign({}, circleStyles, {\n        background: '#000',\n        opacity: 1 - hsv.v / 100\n      })\n    }), h(\"div\", {\n      className: \"IroWheelBorder\",\n      style: Object.assign({}, circleStyles, cssBorderStyles(props))\n    }), colors.filter(function (color) {\n      return color !== activeColor;\n    }).map(function (color) {\n      return h(IroHandle, {\n        isActive: false,\n        index: color.index,\n        fill: color.hslString,\n        r: props.handleRadius,\n        url: props.handleSvg,\n        props: props.handleProps,\n        x: handlePositions[color.index].x,\n        y: handlePositions[color.index].y\n      });\n    }), h(IroHandle, {\n      isActive: true,\n      index: activeColor.index,\n      fill: activeColor.hslString,\n      r: props.activeHandleRadius || props.handleRadius,\n      url: props.handleSvg,\n      props: props.handleProps,\n      x: handlePositions[activeColor.index].x,\n      y: handlePositions[activeColor.index].y\n    }));\n  });\n}\nfunction createWidget(WidgetComponent) {\n  var widgetFactory = function (parent, props) {\n    var widget; // will become an instance of the widget component class\n    var widgetRoot = document.createElement('div');\n    // Render widget into a temp DOM node\n    I(h(WidgetComponent, Object.assign({}, {\n      ref: function (ref) {\n        return widget = ref;\n      }\n    }, props)), widgetRoot);\n    function mountWidget() {\n      var container = parent instanceof Element ? parent : document.querySelector(parent);\n      container.appendChild(widget.base);\n      widget.onMount(container);\n    }\n    // Mount it into the DOM when the page document is ready\n    if (document.readyState !== 'loading') {\n      mountWidget();\n    } else {\n      document.addEventListener('DOMContentLoaded', mountWidget);\n    }\n    return widget;\n  };\n  // Allow the widget factory to inherit component prototype + static class methods\n  // This makes it easier for plugin authors to extend the base widget component\n  widgetFactory.prototype = WidgetComponent.prototype;\n  Object.assign(widgetFactory, WidgetComponent);\n  // Add reference to base component too\n  widgetFactory.__component = WidgetComponent;\n  return widgetFactory;\n}\nvar IroColorPicker = /*@__PURE__*/function (Component) {\n  function IroColorPicker(props) {\n    var this$1 = this;\n    Component.call(this, props);\n    this.colors = [];\n    this.inputActive = false;\n    this.events = {};\n    this.activeEvents = {};\n    this.deferredEvents = {};\n    this.id = props.id;\n    var colors = props.colors.length > 0 ? props.colors : [props.color];\n    colors.forEach(function (colorValue) {\n      return this$1.addColor(colorValue);\n    });\n    this.setActiveColor(0);\n    // Pass all the props into the component's state,\n    // Except we want to add the color object and make sure that refs aren't passed down to children\n    this.state = Object.assign({}, props, {\n      color: this.color,\n      colors: this.colors,\n      layout: props.layout\n    });\n  }\n  if (Component) IroColorPicker.__proto__ = Component;\n  IroColorPicker.prototype = Object.create(Component && Component.prototype);\n  IroColorPicker.prototype.constructor = IroColorPicker;\n  // Plubic multicolor API\n  /**\r\n  * @desc Add a color to the color picker\r\n  * @param color new color to add\r\n  * @param index optional color index\r\n  */\n  IroColorPicker.prototype.addColor = function addColor(color, index) {\n    if (index === void 0) index = this.colors.length;\n\n    // Create a new iro.Color\n    // Also bind it to onColorChange, so whenever the color changes it updates the color picker\n    var newColor = new IroColor(color, this.onColorChange.bind(this));\n    // Insert color @ the given index\n    this.colors.splice(index, 0, newColor);\n    // Reindex colors\n    this.colors.forEach(function (color, index) {\n      return color.index = index;\n    });\n    // Update picker state if necessary\n    if (this.state) {\n      this.setState({\n        colors: this.colors\n      });\n    }\n    // Fire color init event\n    this.deferredEmit('color:init', newColor);\n  };\n  /**\r\n   * @desc Remove a color from the color picker\r\n   * @param index color index\r\n   */\n  IroColorPicker.prototype.removeColor = function removeColor(index) {\n    var color = this.colors.splice(index, 1)[0];\n    // Destroy the color object -- this unbinds it from the color picker\n    color.unbind();\n    // Reindex colors\n    this.colors.forEach(function (color, index) {\n      return color.index = index;\n    });\n    // Update picker state if necessary\n    if (this.state) {\n      this.setState({\n        colors: this.colors\n      });\n    }\n    // If the active color was removed, default active color to 0\n    if (color.index === this.color.index) {\n      this.setActiveColor(0);\n    }\n    // Fire color remove event\n    this.emit('color:remove', color);\n  };\n  /**\r\n   * @desc Set the currently active color\r\n   * @param index color index\r\n   */\n  IroColorPicker.prototype.setActiveColor = function setActiveColor(index) {\n    this.color = this.colors[index];\n    if (this.state) {\n      this.setState({\n        color: this.color\n      });\n    }\n    // Fire color switch event\n    this.emit('color:setActive', this.color);\n  };\n  /**\r\n   * @desc Replace all of the current colorPicker colors\r\n   * @param newColorValues list of new colors to add\r\n   */\n  IroColorPicker.prototype.setColors = function setColors(newColorValues, activeColorIndex) {\n    var this$1 = this;\n    if (activeColorIndex === void 0) activeColorIndex = 0;\n\n    // Unbind color events\n    this.colors.forEach(function (color) {\n      return color.unbind();\n    });\n    // Destroy old colors\n    this.colors = [];\n    // Add new colors\n    newColorValues.forEach(function (colorValue) {\n      return this$1.addColor(colorValue);\n    });\n    // Reset active color\n    this.setActiveColor(activeColorIndex);\n    this.emit('color:setAll', this.colors);\n  };\n  // Public ColorPicker events API\n  /**\r\n   * @desc Set a callback function for an event\r\n   * @param eventList event(s) to listen to\r\n   * @param callback - Function called when the event is fired\r\n   */\n  IroColorPicker.prototype.on = function on(eventList, callback) {\n    var this$1 = this;\n    var events = this.events;\n    // eventList can be an eventType string or an array of eventType strings\n    (!Array.isArray(eventList) ? [eventList] : eventList).forEach(function (eventType) {\n      // Add event callback\n      (events[eventType] || (events[eventType] = [])).push(callback);\n      // Call deferred events\n      // These are events that can be stored until a listener for them is added\n      if (this$1.deferredEvents[eventType]) {\n        // Deffered events store an array of arguments from when the event was called\n        this$1.deferredEvents[eventType].forEach(function (args) {\n          callback.apply(null, args);\n        });\n        // Clear deferred events\n        this$1.deferredEvents[eventType] = [];\n      }\n    });\n  };\n  /**\r\n   * @desc Remove a callback function for an event added with on()\r\n   * @param eventList - event(s) to listen to\r\n   * @param callback - original callback function to remove\r\n   */\n  IroColorPicker.prototype.off = function off(eventList, callback) {\n    var this$1 = this;\n    (!Array.isArray(eventList) ? [eventList] : eventList).forEach(function (eventType) {\n      var callbackList = this$1.events[eventType];\n      // this.emitHook('event:off', eventType, callback);\n      if (callbackList) {\n        callbackList.splice(callbackList.indexOf(callback), 1);\n      }\n    });\n  };\n  /**\r\n   * @desc Emit an event\r\n   * @param eventType event to emit\r\n   */\n  IroColorPicker.prototype.emit = function emit(eventType) {\n    var this$1 = this;\n    var args = [],\n      len = arguments.length - 1;\n    while (len-- > 0) args[len] = arguments[len + 1];\n    var activeEvents = this.activeEvents;\n    var isEventActive = activeEvents.hasOwnProperty(eventType) ? activeEvents[eventType] : false;\n    // Prevent event callbacks from firing if the event is already active\n    // This stops infinite loops if something in an event callback causes the same event to be fired again\n    // (e.g. setting the color inside a color:change callback)\n    if (!isEventActive) {\n      activeEvents[eventType] = true;\n      var callbackList = this.events[eventType] || [];\n      callbackList.forEach(function (fn) {\n        return fn.apply(this$1, args);\n      });\n      activeEvents[eventType] = false;\n    }\n  };\n  /**\r\n   * @desc Emit an event now, or save it for when the relevent event listener is added\r\n   * @param eventType - The name of the event to emit\r\n   */\n  IroColorPicker.prototype.deferredEmit = function deferredEmit(eventType) {\n    var ref;\n    var args = [],\n      len = arguments.length - 1;\n    while (len-- > 0) args[len] = arguments[len + 1];\n    var deferredEvents = this.deferredEvents;\n    (ref = this).emit.apply(ref, [eventType].concat(args));\n    (deferredEvents[eventType] || (deferredEvents[eventType] = [])).push(args);\n  };\n  // Public utility methods\n  IroColorPicker.prototype.setOptions = function setOptions(newOptions) {\n    this.setState(newOptions);\n  };\n  /**\r\n   * @desc Resize the color picker\r\n   * @param width - new width\r\n   */\n  IroColorPicker.prototype.resize = function resize(width) {\n    this.setOptions({\n      width: width\n    });\n  };\n  /**\r\n   * @desc Reset the color picker to the initial color provided in the color picker options\r\n   */\n  IroColorPicker.prototype.reset = function reset() {\n    this.colors.forEach(function (color) {\n      return color.reset();\n    });\n    this.setState({\n      colors: this.colors\n    });\n  };\n  /**\r\n   * @desc Called by the createWidget wrapper when the element is mounted into the page\r\n   * @param container - the container element for this ColorPicker instance\r\n   */\n  IroColorPicker.prototype.onMount = function onMount(container) {\n    this.el = container;\n    this.deferredEmit('mount', this);\n  };\n  // Internal methods\n  /**\r\n   * @desc React to a color update\r\n   * @param color - current color\r\n   * @param changes - shows which h,s,v,a color channels changed\r\n   */\n  IroColorPicker.prototype.onColorChange = function onColorChange(color, changes) {\n    this.setState({\n      color: this.color\n    });\n    if (this.inputActive) {\n      this.inputActive = false;\n      this.emit('input:change', color, changes);\n    }\n    this.emit('color:change', color, changes);\n  };\n  /**\r\n   * @desc Handle input from a UI control element\r\n   * @param type - event type\r\n   */\n  IroColorPicker.prototype.emitInputEvent = function emitInputEvent(type, originId) {\n    if (type === 0 /* Start */) {\n      this.emit('input:start', this.color, originId);\n    } else if (type === 1 /* Move */) {\n      this.emit('input:move', this.color, originId);\n    } else if (type === 2 /* End */) {\n      this.emit('input:end', this.color, originId);\n    }\n  };\n  IroColorPicker.prototype.render = function render(props, state) {\n    var this$1 = this;\n    var layout = state.layout;\n    // use layout shorthands\n    if (!Array.isArray(layout)) {\n      switch (layout) {\n        // TODO: implement some?\n        default:\n          layout = [{\n            component: IroWheel\n          }, {\n            component: IroSlider\n          }];\n      }\n      // add transparency slider to the layout\n      if (state.transparency) {\n        layout.push({\n          component: IroSlider,\n          options: {\n            sliderType: 'alpha'\n          }\n        });\n      }\n    }\n    return h(\"div\", {\n      class: \"IroColorPicker\",\n      id: state.id,\n      style: {\n        display: state.display\n      }\n    }, layout.map(function (ref, componentIndex) {\n      var UiComponent = ref.component;\n      var options = ref.options;\n      return h(UiComponent, Object.assign({}, state, options, {\n        ref: undefined,\n        onInput: this$1.emitInputEvent.bind(this$1),\n        parent: this$1,\n        index: componentIndex\n      }));\n    }));\n  };\n  return IroColorPicker;\n}(m);\nIroColorPicker.defaultProps = Object.assign({}, iroColorPickerOptionDefaults, {\n  colors: [],\n  display: 'block',\n  id: null,\n  layout: 'default',\n  margin: null\n});\nvar IroColorPickerWidget = createWidget(IroColorPicker);\nvar iro;\n(function (iro) {\n  iro.version = \"5.5.2\"; // replaced by @rollup/plugin-replace; see rollup.config.js\n  iro.Color = IroColor;\n  iro.ColorPicker = IroColorPickerWidget;\n  var ui;\n  (function (ui) {\n    ui.h = h;\n    ui.ComponentBase = IroComponentWrapper;\n    ui.Handle = IroHandle;\n    ui.Slider = IroSlider;\n    ui.Wheel = IroWheel;\n    ui.Box = IroBox;\n  })(ui = iro.ui || (iro.ui = {}));\n})(iro || (iro = {}));\nvar iro$1 = iro;\nexport default iro$1;","map":{"version":3,"names":["n","u","t","i","r","o","f","e","c","s","l","a","parentNode","removeChild","h","arguments","length","push","children","defaultProps","key","ref","v","type","props","__k","__p","__b","__e","__c","constructor","vnode","d","y","m","context","w","indexOf","g","base","k","__d","debounceRendering","_","sort","__v","pop","__P","$","__n","ownerSVGElement","j","b","p","x","appendChild","nextSibling","insertBefore","value","D","A","Array","isArray","C","N","P","setProperty","test","style","cssText","replace","toLowerCase","slice","addEventListener","T","removeEventListener","removeAttributeNS","setAttributeNS","removeAttribute","setAttribute","event","contextType","__E","prototype","render","H","sub","state","__h","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","__r","getChildContext","getSnapshotBeforeUpdate","call","componentDidUpdate","z","diffed","nodeType","localName","document","createTextNode","createElementNS","createElement","data","childNodes","dangerouslySetInnerHTML","__html","innerHTML","checked","current","unmount","componentWillUnmount","I","setState","forceUpdate","Promise","then","bind","resolve","setTimeout","getDerivedStateFromError","componentDidCatch","_defineProperties","target","descriptor","enumerable","configurable","writable","Object","defineProperty","_createClass","Constructor","protoProps","staticProps","_extends","assign","arguments$1","source","hasOwnProperty","apply","CSS_INTEGER","CSS_NUMBER","CSS_UNIT","PERMISSIVE_MATCH_3","PERMISSIVE_MATCH_4","REGEX_FUNCTIONAL_RGB","RegExp","REGEX_FUNCTIONAL_RGBA","REGEX_FUNCTIONAL_HSL","REGEX_FUNCTIONAL_HSLA","HEX_START","HEX_INT_SINGLE","HEX_INT_DOUBLE","REGEX_HEX_3","REGEX_HEX_4","REGEX_HEX_6","REGEX_HEX_8","KELVIN_MIN","KELVIN_MAX","log","Math","round","floor","clamp","num","min","max","parseUnit","str","isPercentage","parseFloat","parseHexInt","parseInt","intToHex","_int","toString","padStart","IroColor","onChange","set","initialValue","_proto","hexString","rgbString","hslString","hsva","rgb","hsv","hsl","kelvin","Error","setChannel","format","channel","_extends2","reset","clone","unbind","undefined","hsvToRgb","q","mod","rgbToHsv","delta","hue","saturation","hsvToHsl","divisor","hslToHsv","kelvinToRgb","temp","rgbToKelvin","eps","minTemp","maxTemp","_rgb","get","newValue","oldValue","changes","_IroColor$hsvToRgb","alpha","_IroColor$hsvToHsl","match","exec","rgba","hsla","sliderDefaultOptions","sliderShape","sliderType","minTemperature","maxTemperature","getSliderDimensions","_sliderSize","width","sliderSize","borderWidth","handleRadius","padding","ishorizontal","layoutDirection","handleStart","handleRange","height","cx","cy","radius","getCurrentSliderValue","color","temperatureRange","percent","getSliderValueFromInput","_getSliderDimensions","handlePos","getSliderHandlePosition","_getSliderDimensions2","sliderValue","midPoint","getSliderGradient","stops","numStops","range","stop","_IroColor$kelvinToRgb","noSat","fullSat","TAU","PI","dist","sqrt","getHandleRange","isInputInsideWheel","_getWheelDimensions","getWheelDimensions","translateWheelAngle","angle","invert","wheelAngle","wheelDirection","getWheelHandlePosition","_getWheelDimensions2","handleAngle","handleDist","direction","cos","sin","getWheelValueFromInput","_getWheelDimensions3","atan2","getBoxDimensions","boxHeight","getBoxValueFromInput","_getBoxDimensions","handleRangeX","handleRangeY","percentX","percentY","getBoxHandlePosition","_getBoxDimensions2","getBoxGradients","BASE_ELEMENTS","resolveSvgUrl","url","getElementsByTagName","ua","window","navigator","userAgent","isSafari","isIos","location","protocol","host","pathname","search","getHandleAtPoint","handlePositions","dX","dY","cssBorderStyles","boxSizing","border","borderColor","cssGradient","map","_ref","col","join","cssValue","iroColorPickerOptionDefaults","colors","activeHandleRadius","handleSvg","handleProps","wheelLightness","sliderMargin","SECONDARY_EVENTS","IroComponentWrapper","Component","uid","random","substring","__proto__","create","eventHandler","handleEvent","rootProps","onMouseDown","ontouchstart","isHorizontal","margin","rootStyles","overflow","display","index","this$1","inputHandler","onInput","bounds","getBoundingClientRect","preventDefault","point","touches","changedTouches","clientX","left","clientY","top","result","forEach","passive","IroHandle","className","isActive","transform","willChange","position","xlinkHref","fill","stroke","IroSlider","activeIndex","activeColor","gradient","handleInput","parent","inputActive","id","borderRadius","background","backgroundSize","IroBox","colorPicker","gradients","inputType","activeHandle","setActiveColor","filter","HUE_GRADIENT_CLOCKWISE","HUE_GRADIENT_ANTICLOCKWISE","IroWheel","circleStyles","opacity","createWidget","WidgetComponent","widgetFactory","widget","widgetRoot","mountWidget","container","Element","querySelector","onMount","readyState","__component","IroColorPicker","events","activeEvents","deferredEvents","colorValue","addColor","layout","newColor","onColorChange","splice","deferredEmit","removeColor","emit","setColors","newColorValues","activeColorIndex","on","eventList","callback","eventType","args","off","callbackList","len","isEventActive","fn","concat","setOptions","newOptions","resize","el","emitInputEvent","originId","component","transparency","options","class","componentIndex","UiComponent","IroColorPickerWidget","iro","version","Color","ColorPicker","ui","ComponentBase","Handle","Slider","Wheel","Box","iro$1"],"sources":["F:/FinalYearProject_ClientSection/FrontEnd/node_modules/@jaames/iro/dist/iro.es.js"],"sourcesContent":["/*!\n * iro.js v5.5.2\n * 2016-2021 James Daniel\n * Licensed under MPL 2.0\n * github.com/jaames/iro.js\n */\n\nvar n,u,t,i,r,o,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function s(n,l){for(var u in l){ n[u]=l[u]; }return n}function a(n){var l=n.parentNode;l&&l.removeChild(n);}function h(n,l,u){var t,i,r,o,f=arguments;if(l=s({},l),arguments.length>3){ for(u=[u],t=3;t<arguments.length;t++){ u.push(f[t]); } }if(null!=u&&(l.children=u),null!=n&&null!=n.defaultProps){ for(i in n.defaultProps){ void 0===l[i]&&(l[i]=n.defaultProps[i]); } }return o=l.key,null!=(r=l.ref)&&delete l.ref,null!=o&&delete l.key,v(n,l,o,r)}function v(l,u,t,i){var r={type:l,props:u,key:t,ref:i,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return n.vnode&&n.vnode(r),r}function d(n){return n.children}function y(n){if(null==n||\"boolean\"==typeof n){ return null; }if(\"string\"==typeof n||\"number\"==typeof n){ return v(null,n,null,null); }if(null!=n.__e||null!=n.__c){var l=v(n.type,n.props,n.key,null);return l.__e=n.__e,l}return n}function m(n,l){this.props=n,this.context=l;}function w(n,l){if(null==l){ return n.__p?w(n.__p,n.__p.__k.indexOf(n)+1):null; }for(var u;l<n.__k.length;l++){ if(null!=(u=n.__k[l])&&null!=u.__e){ return u.__e; } }return \"function\"==typeof n.type?w(n):null}function g(n){var l,u;if(null!=(n=n.__p)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++){ if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break} }return g(n)}}function k(l){(!l.__d&&(l.__d=!0)&&1===u.push(l)||i!==n.debounceRendering)&&(i=n.debounceRendering,(n.debounceRendering||t)(_));}function _(){var n,l,t,i,r,o,f,e;for(u.sort(function(n,l){return l.__v.__b-n.__v.__b});n=u.pop();){ n.__d&&(t=void 0,i=void 0,o=(r=(l=n).__v).__e,f=l.__P,e=l.u,l.u=!1,f&&(t=[],i=$(f,r,s({},r),l.__n,void 0!==f.ownerSVGElement,null,t,e,null==o?w(r):o),j(t,r),i!=o&&g(r))); }}function b(n,l,u,t,i,r,o,c,s){var h,v,p,d,y,m,g,k=u&&u.__k||e,_=k.length;if(c==f&&(c=null!=r?r[0]:_?w(u,0):null),h=0,l.__k=x(l.__k,function(u){if(null!=u){if(u.__p=l,u.__b=l.__b+1,null===(p=k[h])||p&&u.key==p.key&&u.type===p.type){ k[h]=void 0; }else { for(v=0;v<_;v++){if((p=k[v])&&u.key==p.key&&u.type===p.type){k[v]=void 0;break}p=null;} }if(d=$(n,u,p=p||f,t,i,r,o,null,c,s),(v=u.ref)&&p.ref!=v&&(g||(g=[])).push(v,u.__c||d,u),null!=d){if(null==m&&(m=d),null!=u.l){ d=u.l,u.l=null; }else if(r==p||d!=c||null==d.parentNode){n:if(null==c||c.parentNode!==n){ n.appendChild(d); }else{for(y=c,v=0;(y=y.nextSibling)&&v<_;v+=2){ if(y==d){ break n; } }n.insertBefore(d,c);}\"option\"==l.type&&(n.value=\"\");}c=d.nextSibling,\"function\"==typeof l.type&&(l.l=d);}}return h++,u}),l.__e=m,null!=r&&\"function\"!=typeof l.type){ for(h=r.length;h--;){ null!=r[h]&&a(r[h]); } }for(h=_;h--;){ null!=k[h]&&D(k[h],k[h]); }if(g){ for(h=0;h<g.length;h++){ A(g[h],g[++h],g[++h]); } }}function x(n,l,u){if(null==u&&(u=[]),null==n||\"boolean\"==typeof n){ l&&u.push(l(null)); }else if(Array.isArray(n)){ for(var t=0;t<n.length;t++){ x(n[t],l,u); } }else { u.push(l?l(y(n)):n); }return u}function C(n,l,u,t,i){var r;for(r in u){ r in l||N(n,r,null,u[r],t); }for(r in l){ i&&\"function\"!=typeof l[r]||\"value\"===r||\"checked\"===r||u[r]===l[r]||N(n,r,l[r],u[r],t); }}function P(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=\"number\"==typeof u&&!1===c.test(l)?u+\"px\":null==u?\"\":u;}function N(n,l,u,t,i){var r,o,f,e,c;if(\"key\"===(l=i?\"className\"===l?\"class\":l:\"class\"===l?\"className\":l)||\"children\"===l);else if(\"style\"===l){ if(r=n.style,\"string\"==typeof u){ r.cssText=u; }else{if(\"string\"==typeof t&&(r.cssText=\"\",t=null),t){ for(o in t){ u&&o in u||P(r,o,\"\"); } }if(u){ for(f in u){ t&&u[f]===t[f]||P(r,f,u[f]); } }} }else{ \"o\"===l[0]&&\"n\"===l[1]?(e=l!==(l=l.replace(/Capture$/,\"\")),c=l.toLowerCase(),l=(c in n?c:l).slice(2),u?(t||n.addEventListener(l,T,e),(n.t||(n.t={}))[l]=u):n.removeEventListener(l,T,e)):\"list\"!==l&&\"tagName\"!==l&&\"form\"!==l&&!i&&l in n?n[l]=null==u?\"\":u:\"function\"!=typeof u&&\"dangerouslySetInnerHTML\"!==l&&(l!==(l=l.replace(/^xlink:?/,\"\"))?null==u||!1===u?n.removeAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase()):n.setAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase(),u):null==u||!1===u?n.removeAttribute(l):n.setAttribute(l,u)); }}function T(l){return this.t[l.type](n.event?n.event(l):l)}function $(l,u,t,i,r,o,f,e,c,a){var h,v,p,y,w,g,k,_,C,P,N=u.type;if(void 0!==u.constructor){ return null; }(h=n.__b)&&h(u);try{n:if(\"function\"==typeof N){if(_=u.props,C=(h=N.contextType)&&i[h.__c],P=h?C?C.props.value:h.__p:i,t.__c?k=(v=u.__c=t.__c).__p=v.__E:(\"prototype\"in N&&N.prototype.render?u.__c=v=new N(_,P):(u.__c=v=new m(_,P),v.constructor=N,v.render=H),C&&C.sub(v),v.props=_,v.state||(v.state={}),v.context=P,v.__n=i,p=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=N.getDerivedStateFromProps&&s(v.__s==v.state?v.__s=s({},v.__s):v.__s,N.getDerivedStateFromProps(_,v.__s)),p){ null==N.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&f.push(v); }else{if(null==N.getDerivedStateFromProps&&null==e&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(_,P),!e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(_,v.__s,P)){for(v.props=_,v.state=v.__s,v.__d=!1,v.__v=u,u.__e=null!=c?c!==t.__e?c:t.__e:null,u.__k=t.__k,h=0;h<u.__k.length;h++){ u.__k[h]&&(u.__k[h].__p=u); }break n}null!=v.componentWillUpdate&&v.componentWillUpdate(_,v.__s,P);}for(y=v.props,w=v.state,v.context=P,v.props=_,v.state=v.__s,(h=n.__r)&&h(u),v.__d=!1,v.__v=u,v.__P=l,h=v.render(v.props,v.state,v.context),u.__k=x(null!=h&&h.type==d&&null==h.key?h.props.children:h),null!=v.getChildContext&&(i=s(s({},i),v.getChildContext())),p||null==v.getSnapshotBeforeUpdate||(g=v.getSnapshotBeforeUpdate(y,w)),b(l,u,t,i,r,o,f,c,a),v.base=u.__e;h=v.__h.pop();){ v.__s&&(v.state=v.__s),h.call(v); }p||null==y||null==v.componentDidUpdate||v.componentDidUpdate(y,w,g),k&&(v.__E=v.__p=null);}else { u.__e=z(t.__e,u,t,i,r,o,f,a); }(h=n.diffed)&&h(u);}catch(l){n.__e(l,u,t);}return u.__e}function j(l,u){for(var t;t=l.pop();){ try{t.componentDidMount();}catch(l){n.__e(l,t.__v);} }n.__c&&n.__c(u);}function z(n,l,u,t,i,r,o,c){var s,a,h,v,p=u.props,d=l.props;if(i=\"svg\"===l.type||i,null==n&&null!=r){ for(s=0;s<r.length;s++){ if(null!=(a=r[s])&&(null===l.type?3===a.nodeType:a.localName===l.type)){n=a,r[s]=null;break} } }if(null==n){if(null===l.type){ return document.createTextNode(d); }n=i?document.createElementNS(\"http://www.w3.org/2000/svg\",l.type):document.createElement(l.type),r=null;}return null===l.type?p!==d&&(null!=r&&(r[r.indexOf(n)]=null),n.data=d):l!==u&&(null!=r&&(r=e.slice.call(n.childNodes)),h=(p=u.props||f).dangerouslySetInnerHTML,v=d.dangerouslySetInnerHTML,c||(v||h)&&(v&&h&&v.__html==h.__html||(n.innerHTML=v&&v.__html||\"\")),C(n,d,p,i,c),l.__k=l.props.children,v||b(n,l,u,t,\"foreignObject\"!==l.type&&i,r,o,f,c),c||(\"value\"in d&&void 0!==d.value&&d.value!==n.value&&(n.value=null==d.value?\"\":d.value),\"checked\"in d&&void 0!==d.checked&&d.checked!==n.checked&&(n.checked=d.checked))),n}function A(l,u,t){try{\"function\"==typeof l?l(u):l.current=u;}catch(l){n.__e(l,t);}}function D(l,u,t){var i,r,o;if(n.unmount&&n.unmount(l),(i=l.ref)&&A(i,null,u),t||\"function\"==typeof l.type||(t=null!=(r=l.__e)),l.__e=l.l=null,null!=(i=l.__c)){if(i.componentWillUnmount){ try{i.componentWillUnmount();}catch(l){n.__e(l,u);} }i.base=i.__P=null;}if(i=l.__k){ for(o=0;o<i.length;o++){ i[o]&&D(i[o],u,t); } }null!=r&&a(r);}function H(n,l,u){return this.constructor(n,u)}function I(l,u,t){var i,o,c;n.__p&&n.__p(l,u),o=(i=t===r)?null:t&&t.__k||u.__k,l=h(d,null,[l]),c=[],$(u,i?u.__k=l:(t||u).__k=l,o||f,f,void 0!==u.ownerSVGElement,t&&!i?[t]:o?null:e.slice.call(u.childNodes),c,!1,t||f,i),j(c,l);}n={},m.prototype.setState=function(n,l){var u=this.__s!==this.state&&this.__s||(this.__s=s({},this.state));(\"function\"!=typeof n||(n=n(u,this.props)))&&s(u,n),null!=n&&this.__v&&(this.u=!1,l&&this.__h.push(l),k(this));},m.prototype.forceUpdate=function(n){this.__v&&(n&&this.__h.push(n),this.u=!0,k(this));},m.prototype.render=d,u=[],t=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,i=n.debounceRendering,n.__e=function(n,l,u){for(var t;l=l.__p;){ if((t=l.__c)&&!t.__p){ try{if(t.constructor&&null!=t.constructor.getDerivedStateFromError){ t.setState(t.constructor.getDerivedStateFromError(n)); }else{if(null==t.componentDidCatch){ continue; }t.componentDidCatch(n);}return k(t.__E=t)}catch(l){n=l;} } }throw n},r=f,o=0;\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) { descriptor.writable = true; }\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) { _defineProperties(Constructor.prototype, protoProps); }\n  if (staticProps) { _defineProperties(Constructor, staticProps); }\n  return Constructor;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    var arguments$1 = arguments;\n\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments$1[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\n// Some regular expressions for rgb() and hsl() Colors are borrowed from tinyColor\n// https://github.com/bgrins/TinyColor\n// Kelvin temperature math borrowed from Neil Barlett's implementation\n// from https://github.com/neilbartlett/color-temperature\n// https://www.w3.org/TR/css3-values/#integers\nvar CSS_INTEGER = '[-\\\\+]?\\\\d+%?'; // http://www.w3.org/TR/css3-values/#number-value\n\nvar CSS_NUMBER = '[-\\\\+]?\\\\d*\\\\.\\\\d+%?'; // Allow positive/negative integer/number. Don't capture the either/or, just the entire outcome\n\nvar CSS_UNIT = '(?:' + CSS_NUMBER + ')|(?:' + CSS_INTEGER + ')'; // Parse function params\n// Parens and commas are optional, and this also allows for whitespace between numbers\n\nvar PERMISSIVE_MATCH_3 = '[\\\\s|\\\\(]+(' + CSS_UNIT + ')[,|\\\\s]+(' + CSS_UNIT + ')[,|\\\\s]+(' + CSS_UNIT + ')\\\\s*\\\\)?';\nvar PERMISSIVE_MATCH_4 = '[\\\\s|\\\\(]+(' + CSS_UNIT + ')[,|\\\\s]+(' + CSS_UNIT + ')[,|\\\\s]+(' + CSS_UNIT + ')[,|\\\\s]+(' + CSS_UNIT + ')\\\\s*\\\\)?'; // Regex patterns for functional color strings\n\nvar REGEX_FUNCTIONAL_RGB = new RegExp('rgb' + PERMISSIVE_MATCH_3);\nvar REGEX_FUNCTIONAL_RGBA = new RegExp('rgba' + PERMISSIVE_MATCH_4);\nvar REGEX_FUNCTIONAL_HSL = new RegExp('hsl' + PERMISSIVE_MATCH_3);\nvar REGEX_FUNCTIONAL_HSLA = new RegExp('hsla' + PERMISSIVE_MATCH_4); // Color string parsing regex\n\nvar HEX_START = '^(?:#?|0x?)';\nvar HEX_INT_SINGLE = '([0-9a-fA-F]{1})';\nvar HEX_INT_DOUBLE = '([0-9a-fA-F]{2})';\nvar REGEX_HEX_3 = new RegExp(HEX_START + HEX_INT_SINGLE + HEX_INT_SINGLE + HEX_INT_SINGLE + '$');\nvar REGEX_HEX_4 = new RegExp(HEX_START + HEX_INT_SINGLE + HEX_INT_SINGLE + HEX_INT_SINGLE + HEX_INT_SINGLE + '$');\nvar REGEX_HEX_6 = new RegExp(HEX_START + HEX_INT_DOUBLE + HEX_INT_DOUBLE + HEX_INT_DOUBLE + '$');\nvar REGEX_HEX_8 = new RegExp(HEX_START + HEX_INT_DOUBLE + HEX_INT_DOUBLE + HEX_INT_DOUBLE + HEX_INT_DOUBLE + '$'); // Kelvin temperature bounds\n\nvar KELVIN_MIN = 2000;\nvar KELVIN_MAX = 40000; // Math shorthands\n\nvar log = Math.log,\n    round = Math.round,\n    floor = Math.floor;\n/**\r\n * @desc Clamp a number between a min and max value\r\n * @param num - input value\r\n * @param min - min allowed value\r\n * @param max - max allowed value\r\n */\n\nfunction clamp(num, min, max) {\n  return Math.min(Math.max(num, min), max);\n}\n/**\r\n * @desc Parse a css unit string - either regular int or a percentage number\r\n * @param str - css unit string\r\n * @param max - max unit value, used for calculating percentages\r\n */\n\n\nfunction parseUnit(str, max) {\n  var isPercentage = str.indexOf('%') > -1;\n  var num = parseFloat(str);\n  return isPercentage ? max / 100 * num : num;\n}\n/**\r\n * @desc Parse hex str to an int\r\n * @param str - hex string to parse\r\n */\n\n\nfunction parseHexInt(str) {\n  return parseInt(str, 16);\n}\n/**\r\n * @desc Convert nunber into to 2-digit hex\r\n * @param int - number to convert\r\n */\n\n\nfunction intToHex(_int) {\n  return _int.toString(16).padStart(2, '0');\n}\n\nvar IroColor =\n/*#__PURE__*/\nfunction () {\n  /**\r\n    * @constructor Color object\r\n    * @param value - initial color value\r\n  */\n  function IroColor(value, onChange) {\n    // The default Color value\n    this.$ = {\n      h: 0,\n      s: 0,\n      v: 0,\n      a: 1\n    };\n    if (value) { this.set(value); } // The watch callback function for this Color will be stored here\n\n    this.onChange = onChange;\n    this.initialValue = _extends({}, this.$); // copy initial value\n  }\n  /**\r\n    * @desc Set the Color from any valid value\r\n    * @param value - new color value\r\n  */\n\n\n  var _proto = IroColor.prototype;\n\n  _proto.set = function set(value) {\n    if (typeof value === 'string') {\n      if (/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(value)) {\n        this.hexString = value;\n      } else if (/^rgba?/.test(value)) {\n        this.rgbString = value;\n      } else if (/^hsla?/.test(value)) {\n        this.hslString = value;\n      }\n    } else if (typeof value === 'object') {\n      if (value instanceof IroColor) {\n        this.hsva = value.hsva;\n      } else if ('r' in value && 'g' in value && 'b' in value) {\n        this.rgb = value;\n      } else if ('h' in value && 's' in value && 'v' in value) {\n        this.hsv = value;\n      } else if ('h' in value && 's' in value && 'l' in value) {\n        this.hsl = value;\n      } else if ('kelvin' in value) {\n        this.kelvin = value.kelvin;\n      }\n    } else {\n      throw new Error('Invalid color value');\n    }\n  }\n  /**\r\n    * @desc Shortcut to set a specific channel value\r\n    * @param format - hsv | hsl | rgb\r\n    * @param channel - individual channel to set, for example if model = hsl, chanel = h | s | l\r\n    * @param value - new value for the channel\r\n  */\n  ;\n\n  _proto.setChannel = function setChannel(format, channel, value) {\n    var _extends2;\n\n    this[format] = _extends({}, this[format], (_extends2 = {}, _extends2[channel] = value, _extends2));\n  }\n  /**\r\n   * @desc Reset color back to its initial value\r\n   */\n  ;\n\n  _proto.reset = function reset() {\n    this.hsva = this.initialValue;\n  }\n  /**\r\n    * @desc make new Color instance with the same value as this one\r\n  */\n  ;\n\n  _proto.clone = function clone() {\n    return new IroColor(this);\n  }\n  /**\r\n   * @desc remove color onChange\r\n   */\n  ;\n\n  _proto.unbind = function unbind() {\n    this.onChange = undefined;\n  }\n  /**\r\n    * @desc Convert hsv object to rgb\r\n    * @param hsv - hsv color object\r\n  */\n  ;\n\n  IroColor.hsvToRgb = function hsvToRgb(hsv) {\n    var h = hsv.h / 60;\n    var s = hsv.s / 100;\n    var v = hsv.v / 100;\n    var i = floor(h);\n    var f = h - i;\n    var p = v * (1 - s);\n    var q = v * (1 - f * s);\n    var t = v * (1 - (1 - f) * s);\n    var mod = i % 6;\n    var r = [v, q, p, p, t, v][mod];\n    var g = [t, v, v, q, p, p][mod];\n    var b = [p, p, t, v, v, q][mod];\n    return {\n      r: clamp(r * 255, 0, 255),\n      g: clamp(g * 255, 0, 255),\n      b: clamp(b * 255, 0, 255)\n    };\n  }\n  /**\r\n    * @desc Convert rgb object to hsv\r\n    * @param rgb - rgb object\r\n  */\n  ;\n\n  IroColor.rgbToHsv = function rgbToHsv(rgb) {\n    var r = rgb.r / 255;\n    var g = rgb.g / 255;\n    var b = rgb.b / 255;\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var delta = max - min;\n    var hue = 0;\n    var value = max;\n    var saturation = max === 0 ? 0 : delta / max;\n\n    switch (max) {\n      case min:\n        hue = 0; // achromatic\n\n        break;\n\n      case r:\n        hue = (g - b) / delta + (g < b ? 6 : 0);\n        break;\n\n      case g:\n        hue = (b - r) / delta + 2;\n        break;\n\n      case b:\n        hue = (r - g) / delta + 4;\n        break;\n    }\n\n    return {\n      h: hue * 60 % 360,\n      s: clamp(saturation * 100, 0, 100),\n      v: clamp(value * 100, 0, 100)\n    };\n  }\n  /**\r\n    * @desc Convert hsv object to hsl\r\n    * @param hsv - hsv object\r\n  */\n  ;\n\n  IroColor.hsvToHsl = function hsvToHsl(hsv) {\n    var s = hsv.s / 100;\n    var v = hsv.v / 100;\n    var l = (2 - s) * v;\n    var divisor = l <= 1 ? l : 2 - l; // Avoid division by zero when lightness is close to zero\n\n    var saturation = divisor < 1e-9 ? 0 : s * v / divisor;\n    return {\n      h: hsv.h,\n      s: clamp(saturation * 100, 0, 100),\n      l: clamp(l * 50, 0, 100)\n    };\n  }\n  /**\r\n    * @desc Convert hsl object to hsv\r\n    * @param hsl - hsl object\r\n  */\n  ;\n\n  IroColor.hslToHsv = function hslToHsv(hsl) {\n    var l = hsl.l * 2;\n    var s = hsl.s * (l <= 100 ? l : 200 - l) / 100; // Avoid division by zero when l + s is near 0\n\n    var saturation = l + s < 1e-9 ? 0 : 2 * s / (l + s);\n    return {\n      h: hsl.h,\n      s: clamp(saturation * 100, 0, 100),\n      v: clamp((l + s) / 2, 0, 100)\n    };\n  }\n  /**\r\n    * @desc Convert a kelvin temperature to an approx, RGB value\r\n    * @param kelvin - kelvin temperature\r\n  */\n  ;\n\n  IroColor.kelvinToRgb = function kelvinToRgb(kelvin) {\n    var temp = kelvin / 100;\n    var r, g, b;\n\n    if (temp < 66) {\n      r = 255;\n      g = -155.25485562709179 - 0.44596950469579133 * (g = temp - 2) + 104.49216199393888 * log(g);\n      b = temp < 20 ? 0 : -254.76935184120902 + 0.8274096064007395 * (b = temp - 10) + 115.67994401066147 * log(b);\n    } else {\n      r = 351.97690566805693 + 0.114206453784165 * (r = temp - 55) - 40.25366309332127 * log(r);\n      g = 325.4494125711974 + 0.07943456536662342 * (g = temp - 50) - 28.0852963507957 * log(g);\n      b = 255;\n    }\n\n    return {\n      r: clamp(floor(r), 0, 255),\n      g: clamp(floor(g), 0, 255),\n      b: clamp(floor(b), 0, 255)\n    };\n  }\n  /**\r\n   * @desc Convert an RGB color to an approximate kelvin temperature\r\n   * @param kelvin - kelvin temperature\r\n  */\n  ;\n\n  IroColor.rgbToKelvin = function rgbToKelvin(rgb) {\n    var r = rgb.r,\n        b = rgb.b;\n    var eps = 0.4;\n    var minTemp = KELVIN_MIN;\n    var maxTemp = KELVIN_MAX;\n    var temp;\n\n    while (maxTemp - minTemp > eps) {\n      temp = (maxTemp + minTemp) * 0.5;\n\n      var _rgb = IroColor.kelvinToRgb(temp);\n\n      if (_rgb.b / _rgb.r >= b / r) {\n        maxTemp = temp;\n      } else {\n        minTemp = temp;\n      }\n    }\n\n    return temp;\n  };\n\n  _createClass(IroColor, [{\n    key: \"hsv\",\n    get: function get() {\n      // value is cloned to allow changes to be made to the values before passing them back\n      var value = this.$;\n      return {\n        h: value.h,\n        s: value.s,\n        v: value.v\n      };\n    },\n    set: function set(newValue) {\n      var oldValue = this.$;\n      newValue = _extends({}, oldValue, newValue); // If this Color is being watched for changes we need to compare the new and old values to check the difference\n      // Otherwise we can just be lazy\n\n      if (this.onChange) {\n        // Compute changed values\n        var changes = {\n          h: false,\n          v: false,\n          s: false,\n          a: false\n        };\n\n        for (var key in oldValue) {\n          changes[key] = newValue[key] != oldValue[key];\n        }\n\n        this.$ = newValue; // If the value has changed, call hook callback\n\n        if (changes.h || changes.s || changes.v || changes.a) { this.onChange(this, changes); }\n      } else {\n        this.$ = newValue;\n      }\n    }\n  }, {\n    key: \"hsva\",\n    get: function get() {\n      return _extends({}, this.$);\n    },\n    set: function set(value) {\n      this.hsv = value;\n    }\n  }, {\n    key: \"hue\",\n    get: function get() {\n      return this.$.h;\n    },\n    set: function set(value) {\n      this.hsv = {\n        h: value\n      };\n    }\n  }, {\n    key: \"saturation\",\n    get: function get() {\n      return this.$.s;\n    },\n    set: function set(value) {\n      this.hsv = {\n        s: value\n      };\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this.$.v;\n    },\n    set: function set(value) {\n      this.hsv = {\n        v: value\n      };\n    }\n  }, {\n    key: \"alpha\",\n    get: function get() {\n      return this.$.a;\n    },\n    set: function set(value) {\n      this.hsv = _extends({}, this.hsv, {\n        a: value\n      });\n    }\n  }, {\n    key: \"kelvin\",\n    get: function get() {\n      return IroColor.rgbToKelvin(this.rgb);\n    },\n    set: function set(value) {\n      this.rgb = IroColor.kelvinToRgb(value);\n    }\n  }, {\n    key: \"red\",\n    get: function get() {\n      var rgb = this.rgb;\n      return rgb.r;\n    },\n    set: function set(value) {\n      this.rgb = _extends({}, this.rgb, {\n        r: value\n      });\n    }\n  }, {\n    key: \"green\",\n    get: function get() {\n      var rgb = this.rgb;\n      return rgb.g;\n    },\n    set: function set(value) {\n      this.rgb = _extends({}, this.rgb, {\n        g: value\n      });\n    }\n  }, {\n    key: \"blue\",\n    get: function get() {\n      var rgb = this.rgb;\n      return rgb.b;\n    },\n    set: function set(value) {\n      this.rgb = _extends({}, this.rgb, {\n        b: value\n      });\n    }\n  }, {\n    key: \"rgb\",\n    get: function get() {\n      var _IroColor$hsvToRgb = IroColor.hsvToRgb(this.$),\n          r = _IroColor$hsvToRgb.r,\n          g = _IroColor$hsvToRgb.g,\n          b = _IroColor$hsvToRgb.b;\n\n      return {\n        r: round(r),\n        g: round(g),\n        b: round(b)\n      };\n    },\n    set: function set(value) {\n      this.hsv = _extends({}, IroColor.rgbToHsv(value), {\n        a: value.a === undefined ? 1 : value.a\n      });\n    }\n  }, {\n    key: \"rgba\",\n    get: function get() {\n      return _extends({}, this.rgb, {\n        a: this.alpha\n      });\n    },\n    set: function set(value) {\n      this.rgb = value;\n    }\n  }, {\n    key: \"hsl\",\n    get: function get() {\n      var _IroColor$hsvToHsl = IroColor.hsvToHsl(this.$),\n          h = _IroColor$hsvToHsl.h,\n          s = _IroColor$hsvToHsl.s,\n          l = _IroColor$hsvToHsl.l;\n\n      return {\n        h: round(h),\n        s: round(s),\n        l: round(l)\n      };\n    },\n    set: function set(value) {\n      this.hsv = _extends({}, IroColor.hslToHsv(value), {\n        a: value.a === undefined ? 1 : value.a\n      });\n    }\n  }, {\n    key: \"hsla\",\n    get: function get() {\n      return _extends({}, this.hsl, {\n        a: this.alpha\n      });\n    },\n    set: function set(value) {\n      this.hsl = value;\n    }\n  }, {\n    key: \"rgbString\",\n    get: function get() {\n      var rgb = this.rgb;\n      return \"rgb(\" + rgb.r + \", \" + rgb.g + \", \" + rgb.b + \")\";\n    },\n    set: function set(value) {\n      var match;\n      var r,\n          g,\n          b,\n          a = 1;\n\n      if (match = REGEX_FUNCTIONAL_RGB.exec(value)) {\n        r = parseUnit(match[1], 255);\n        g = parseUnit(match[2], 255);\n        b = parseUnit(match[3], 255);\n      } else if (match = REGEX_FUNCTIONAL_RGBA.exec(value)) {\n        r = parseUnit(match[1], 255);\n        g = parseUnit(match[2], 255);\n        b = parseUnit(match[3], 255);\n        a = parseUnit(match[4], 1);\n      }\n\n      if (match) {\n        this.rgb = {\n          r: r,\n          g: g,\n          b: b,\n          a: a\n        };\n      } else {\n        throw new Error('Invalid rgb string');\n      }\n    }\n  }, {\n    key: \"rgbaString\",\n    get: function get() {\n      var rgba = this.rgba;\n      return \"rgba(\" + rgba.r + \", \" + rgba.g + \", \" + rgba.b + \", \" + rgba.a + \")\";\n    },\n    set: function set(value) {\n      this.rgbString = value;\n    }\n  }, {\n    key: \"hexString\",\n    get: function get() {\n      var rgb = this.rgb;\n      return \"#\" + intToHex(rgb.r) + intToHex(rgb.g) + intToHex(rgb.b);\n    },\n    set: function set(value) {\n      var match;\n      var r,\n          g,\n          b,\n          a = 255;\n\n      if (match = REGEX_HEX_3.exec(value)) {\n        r = parseHexInt(match[1]) * 17;\n        g = parseHexInt(match[2]) * 17;\n        b = parseHexInt(match[3]) * 17;\n      } else if (match = REGEX_HEX_4.exec(value)) {\n        r = parseHexInt(match[1]) * 17;\n        g = parseHexInt(match[2]) * 17;\n        b = parseHexInt(match[3]) * 17;\n        a = parseHexInt(match[4]) * 17;\n      } else if (match = REGEX_HEX_6.exec(value)) {\n        r = parseHexInt(match[1]);\n        g = parseHexInt(match[2]);\n        b = parseHexInt(match[3]);\n      } else if (match = REGEX_HEX_8.exec(value)) {\n        r = parseHexInt(match[1]);\n        g = parseHexInt(match[2]);\n        b = parseHexInt(match[3]);\n        a = parseHexInt(match[4]);\n      }\n\n      if (match) {\n        this.rgb = {\n          r: r,\n          g: g,\n          b: b,\n          a: a / 255\n        };\n      } else {\n        throw new Error('Invalid hex string');\n      }\n    }\n  }, {\n    key: \"hex8String\",\n    get: function get() {\n      var rgba = this.rgba;\n      return \"#\" + intToHex(rgba.r) + intToHex(rgba.g) + intToHex(rgba.b) + intToHex(floor(rgba.a * 255));\n    },\n    set: function set(value) {\n      this.hexString = value;\n    }\n  }, {\n    key: \"hslString\",\n    get: function get() {\n      var hsl = this.hsl;\n      return \"hsl(\" + hsl.h + \", \" + hsl.s + \"%, \" + hsl.l + \"%)\";\n    },\n    set: function set(value) {\n      var match;\n      var h,\n          s,\n          l,\n          a = 1;\n\n      if (match = REGEX_FUNCTIONAL_HSL.exec(value)) {\n        h = parseUnit(match[1], 360);\n        s = parseUnit(match[2], 100);\n        l = parseUnit(match[3], 100);\n      } else if (match = REGEX_FUNCTIONAL_HSLA.exec(value)) {\n        h = parseUnit(match[1], 360);\n        s = parseUnit(match[2], 100);\n        l = parseUnit(match[3], 100);\n        a = parseUnit(match[4], 1);\n      }\n\n      if (match) {\n        this.hsl = {\n          h: h,\n          s: s,\n          l: l,\n          a: a\n        };\n      } else {\n        throw new Error('Invalid hsl string');\n      }\n    }\n  }, {\n    key: \"hslaString\",\n    get: function get() {\n      var hsla = this.hsla;\n      return \"hsla(\" + hsla.h + \", \" + hsla.s + \"%, \" + hsla.l + \"%, \" + hsla.a + \")\";\n    },\n    set: function set(value) {\n      this.hslString = value;\n    }\n  }]);\n\n  return IroColor;\n}();\n\nvar sliderDefaultOptions = {\n  sliderShape: 'bar',\n  sliderType: 'value',\n  minTemperature: 2200,\n  maxTemperature: 11000\n};\n/**\r\n * @desc Get the bounding dimensions of the slider\r\n * @param props - slider props\r\n */\n\nfunction getSliderDimensions(props) {\n  var _sliderSize;\n\n  var width = props.width,\n      sliderSize = props.sliderSize,\n      borderWidth = props.borderWidth,\n      handleRadius = props.handleRadius,\n      padding = props.padding,\n      sliderShape = props.sliderShape;\n  var ishorizontal = props.layoutDirection === 'horizontal'; // automatically calculate sliderSize if its not defined\n\n  sliderSize = (_sliderSize = sliderSize) != null ? _sliderSize : padding * 2 + handleRadius * 2;\n\n  if (sliderShape === 'circle') {\n    return {\n      handleStart: props.padding + props.handleRadius,\n      handleRange: width - padding * 2 - handleRadius * 2,\n      width: width,\n      height: width,\n      cx: width / 2,\n      cy: width / 2,\n      radius: width / 2 - borderWidth / 2\n    };\n  } else {\n    return {\n      handleStart: sliderSize / 2,\n      handleRange: width - sliderSize,\n      radius: sliderSize / 2,\n      x: 0,\n      y: 0,\n      width: ishorizontal ? sliderSize : width,\n      height: ishorizontal ? width : sliderSize\n    };\n  }\n}\n/**\r\n * @desc Get the current slider value for a given color, as a percentage\r\n * @param props - slider props\r\n * @param color\r\n */\n\nfunction getCurrentSliderValue(props, color) {\n  var hsva = color.hsva;\n  var rgb = color.rgb;\n\n  switch (props.sliderType) {\n    case 'red':\n      return rgb.r / 2.55;\n\n    case 'green':\n      return rgb.g / 2.55;\n\n    case 'blue':\n      return rgb.b / 2.55;\n\n    case 'alpha':\n      return hsva.a * 100;\n\n    case 'kelvin':\n      var minTemperature = props.minTemperature,\n          maxTemperature = props.maxTemperature;\n      var temperatureRange = maxTemperature - minTemperature;\n      var percent = (color.kelvin - minTemperature) / temperatureRange * 100; // clmap percentage\n\n      return Math.max(0, Math.min(percent, 100));\n\n    case 'hue':\n      return hsva.h /= 3.6;\n\n    case 'saturation':\n      return hsva.s;\n\n    case 'value':\n    default:\n      return hsva.v;\n  }\n}\n/**\r\n * @desc Get the current slider value from user input\r\n * @param props - slider props\r\n * @param x - global input x position\r\n * @param y - global input y position\r\n */\n\nfunction getSliderValueFromInput(props, x, y) {\n  var _getSliderDimensions = getSliderDimensions(props),\n      handleRange = _getSliderDimensions.handleRange,\n      handleStart = _getSliderDimensions.handleStart;\n\n  var handlePos;\n\n  if (props.layoutDirection === 'horizontal') {\n    handlePos = -1 * y + handleRange + handleStart;\n  } else {\n    handlePos = x - handleStart;\n  } // clamp handle position\n\n\n  handlePos = Math.max(Math.min(handlePos, handleRange), 0);\n  var percent = Math.round(100 / handleRange * handlePos);\n\n  switch (props.sliderType) {\n    case 'kelvin':\n      var minTemperature = props.minTemperature,\n          maxTemperature = props.maxTemperature;\n      var temperatureRange = maxTemperature - minTemperature;\n      return minTemperature + temperatureRange * (percent / 100);\n\n    case 'alpha':\n      return percent / 100;\n\n    case 'hue':\n      return percent * 3.6;\n\n    case 'red':\n    case 'blue':\n    case 'green':\n      return percent * 2.55;\n\n    default:\n      return percent;\n  }\n}\n/**\r\n * @desc Get the current handle position for a given color\r\n * @param props - slider props\r\n * @param color\r\n */\n\nfunction getSliderHandlePosition(props, color) {\n  var _getSliderDimensions2 = getSliderDimensions(props),\n      width = _getSliderDimensions2.width,\n      height = _getSliderDimensions2.height,\n      handleRange = _getSliderDimensions2.handleRange,\n      handleStart = _getSliderDimensions2.handleStart;\n\n  var ishorizontal = props.layoutDirection === 'horizontal';\n  var sliderValue = getCurrentSliderValue(props, color);\n  var midPoint = ishorizontal ? width / 2 : height / 2;\n  var handlePos = handleStart + sliderValue / 100 * handleRange;\n\n  if (ishorizontal) {\n    handlePos = -1 * handlePos + handleRange + handleStart * 2;\n  }\n\n  return {\n    x: ishorizontal ? midPoint : handlePos,\n    y: ishorizontal ? handlePos : midPoint\n  };\n}\n/**\r\n * @desc Get the gradient stops for a slider\r\n * @param props - slider props\r\n * @param color\r\n */\n\nfunction getSliderGradient(props, color) {\n  var hsv = color.hsv;\n  var rgb = color.rgb;\n\n  switch (props.sliderType) {\n    case 'red':\n      return [[0, \"rgb(\" + 0 + \",\" + rgb.g + \",\" + rgb.b + \")\"], [100, \"rgb(\" + 255 + \",\" + rgb.g + \",\" + rgb.b + \")\"]];\n\n    case 'green':\n      return [[0, \"rgb(\" + rgb.r + \",\" + 0 + \",\" + rgb.b + \")\"], [100, \"rgb(\" + rgb.r + \",\" + 255 + \",\" + rgb.b + \")\"]];\n\n    case 'blue':\n      return [[0, \"rgb(\" + rgb.r + \",\" + rgb.g + \",\" + 0 + \")\"], [100, \"rgb(\" + rgb.r + \",\" + rgb.g + \",\" + 255 + \")\"]];\n\n    case 'alpha':\n      return [[0, \"rgba(\" + rgb.r + \",\" + rgb.g + \",\" + rgb.b + \",0)\"], [100, \"rgb(\" + rgb.r + \",\" + rgb.g + \",\" + rgb.b + \")\"]];\n\n    case 'kelvin':\n      var stops = [];\n      var min = props.minTemperature;\n      var max = props.maxTemperature;\n      var numStops = 8;\n      var range = max - min;\n\n      for (var kelvin = min, stop = 0; kelvin < max; kelvin += range / numStops, stop += 1) {\n        var _IroColor$kelvinToRgb = IroColor.kelvinToRgb(kelvin),\n            r = _IroColor$kelvinToRgb.r,\n            g = _IroColor$kelvinToRgb.g,\n            b = _IroColor$kelvinToRgb.b;\n\n        stops.push([100 / numStops * stop, \"rgb(\" + r + \",\" + g + \",\" + b + \")\"]);\n      }\n\n      return stops;\n\n    case 'hue':\n      return [[0, '#f00'], [16.666, '#ff0'], [33.333, '#0f0'], [50, '#0ff'], [66.666, '#00f'], [83.333, '#f0f'], [100, '#f00']];\n\n    case 'saturation':\n      var noSat = IroColor.hsvToHsl({\n        h: hsv.h,\n        s: 0,\n        v: hsv.v\n      });\n      var fullSat = IroColor.hsvToHsl({\n        h: hsv.h,\n        s: 100,\n        v: hsv.v\n      });\n      return [[0, \"hsl(\" + noSat.h + \",\" + noSat.s + \"%,\" + noSat.l + \"%)\"], [100, \"hsl(\" + fullSat.h + \",\" + fullSat.s + \"%,\" + fullSat.l + \"%)\"]];\n\n    case 'value':\n    default:\n      var hsl = IroColor.hsvToHsl({\n        h: hsv.h,\n        s: hsv.s,\n        v: 100\n      });\n      return [[0, '#000'], [100, \"hsl(\" + hsl.h + \",\" + hsl.s + \"%,\" + hsl.l + \"%)\"]];\n  }\n}\n\nvar TAU = Math.PI * 2; // javascript's modulo operator doesn't produce positive numbers with negative input\n// https://dev.to/maurobringolf/a-neat-trick-to-compute-modulo-of-negative-numbers-111e\n\nvar mod = function mod(a, n) {\n  return (a % n + n) % n;\n}; // distance between points (x, y) and (0, 0)\n\n\nvar dist = function dist(x, y) {\n  return Math.sqrt(x * x + y * y);\n};\n/**\r\n * @param props - wheel props\r\n * @internal\r\n */\n\n\nfunction getHandleRange(props) {\n  return props.width / 2 - props.padding - props.handleRadius - props.borderWidth;\n}\n/**\r\n * Returns true if point (x, y) lands inside the wheel\r\n * @param props - wheel props\r\n * @param x\r\n * @param y\r\n */\n\n\nfunction isInputInsideWheel(props, x, y) {\n  var _getWheelDimensions = getWheelDimensions(props),\n      cx = _getWheelDimensions.cx,\n      cy = _getWheelDimensions.cy;\n\n  var r = props.width / 2;\n  return dist(cx - x, cy - y) < r;\n}\n/**\r\n * @desc Get the point as the center of the wheel\r\n * @param props - wheel props\r\n */\n\nfunction getWheelDimensions(props) {\n  var r = props.width / 2;\n  return {\n    width: props.width,\n    radius: r - props.borderWidth,\n    cx: r,\n    cy: r\n  };\n}\n/**\r\n * @desc Translate an angle according to wheelAngle and wheelDirection\r\n * @param props - wheel props\r\n * @param angle - input angle\r\n */\n\nfunction translateWheelAngle(props, angle, invert) {\n  var wheelAngle = props.wheelAngle;\n  var wheelDirection = props.wheelDirection; // inverted and clockwisee\n\n  if (invert && wheelDirection === 'clockwise') { angle = wheelAngle + angle; } // clockwise (input handling)\n  else if (wheelDirection === 'clockwise') { angle = 360 - wheelAngle + angle; } // inverted and anticlockwise\n    else if (invert && wheelDirection === 'anticlockwise') { angle = wheelAngle + 180 - angle; } // anticlockwise (input handling)\n      else if (wheelDirection === 'anticlockwise') { angle = wheelAngle - angle; }\n  return mod(angle, 360);\n}\n/**\r\n * @desc Get the current handle position for a given color\r\n * @param props - wheel props\r\n * @param color\r\n */\n\nfunction getWheelHandlePosition(props, color) {\n  var hsv = color.hsv;\n\n  var _getWheelDimensions2 = getWheelDimensions(props),\n      cx = _getWheelDimensions2.cx,\n      cy = _getWheelDimensions2.cy;\n\n  var handleRange = getHandleRange(props);\n  var handleAngle = (180 + translateWheelAngle(props, hsv.h, true)) * (TAU / 360);\n  var handleDist = hsv.s / 100 * handleRange;\n  var direction = props.wheelDirection === 'clockwise' ? -1 : 1;\n  return {\n    x: cx + handleDist * Math.cos(handleAngle) * direction,\n    y: cy + handleDist * Math.sin(handleAngle) * direction\n  };\n}\n/**\r\n * @desc Get the current wheel value from user input\r\n * @param props - wheel props\r\n * @param x - global input x position\r\n * @param y - global input y position\r\n */\n\nfunction getWheelValueFromInput(props, x, y) {\n  var _getWheelDimensions3 = getWheelDimensions(props),\n      cx = _getWheelDimensions3.cx,\n      cy = _getWheelDimensions3.cy;\n\n  var handleRange = getHandleRange(props);\n  x = cx - x;\n  y = cy - y; // Calculate the hue by converting the angle to radians\n\n  var hue = translateWheelAngle(props, Math.atan2(-y, -x) * (360 / TAU)); // Find the point's distance from the center of the wheel\n  // This is used to show the saturation level\n\n  var handleDist = Math.min(dist(x, y), handleRange);\n  return {\n    h: Math.round(hue),\n    s: Math.round(100 / handleRange * handleDist)\n  };\n}\n/**\r\n * @desc Get the bounding dimensions of the box\r\n * @param props - box props\r\n */\n\nfunction getBoxDimensions(props) {\n  var width = props.width,\n      boxHeight = props.boxHeight,\n      padding = props.padding,\n      handleRadius = props.handleRadius;\n  return {\n    width: width,\n    height: boxHeight != null ? boxHeight : width,\n    radius: padding + handleRadius\n  };\n}\n/**\r\n * @desc Get the current box value from user input\r\n * @param props - box props\r\n * @param x - global input x position\r\n * @param y - global input y position\r\n */\n\nfunction getBoxValueFromInput(props, x, y) {\n  var _getBoxDimensions = getBoxDimensions(props),\n      width = _getBoxDimensions.width,\n      height = _getBoxDimensions.height,\n      radius = _getBoxDimensions.radius;\n\n  var handleStart = radius;\n  var handleRangeX = width - radius * 2;\n  var handleRangeY = height - radius * 2;\n  var percentX = (x - handleStart) / handleRangeX * 100;\n  var percentY = (y - handleStart) / handleRangeY * 100;\n  return {\n    s: Math.max(0, Math.min(percentX, 100)),\n    v: Math.max(0, Math.min(100 - percentY, 100))\n  };\n}\n/**\r\n * @desc Get the current box handle position for a given color\r\n * @param props - box props\r\n * @param color\r\n */\n\nfunction getBoxHandlePosition(props, color) {\n  var _getBoxDimensions2 = getBoxDimensions(props),\n      width = _getBoxDimensions2.width,\n      height = _getBoxDimensions2.height,\n      radius = _getBoxDimensions2.radius;\n\n  var hsv = color.hsv;\n  var handleStart = radius;\n  var handleRangeX = width - radius * 2;\n  var handleRangeY = height - radius * 2;\n  return {\n    x: handleStart + hsv.s / 100 * handleRangeX,\n    y: handleStart + (handleRangeY - hsv.v / 100 * handleRangeY)\n  };\n}\n/**\r\n * @desc Get the gradient stops for a box\r\n * @param props - box props\r\n * @param color\r\n */\n\nfunction getBoxGradients(props, color) {\n  var hue = color.hue;\n  return [// saturation gradient\n  [[0, '#fff'], [100, \"hsl(\" + hue + \",100%,50%)\"]], // lightness gradient\n  [[0, 'rgba(0,0,0,0)'], [100, '#000']]];\n}\n\n// Keep track of html <base> elements for resolveSvgUrl\n// getElementsByTagName returns a live HTMLCollection, which stays in sync with the DOM tree\n// So it only needs to be called once\nvar BASE_ELEMENTS;\n/**\r\n * @desc Resolve an SVG reference URL\r\n * This is required to work around how Safari and iOS webviews handle gradient URLS under certain conditions\r\n * If a page is using a client-side routing library which makes use of the HTML <base> tag,\r\n * Safari won't be able to render SVG gradients properly (as they are referenced by URLs)\r\n * More info on the problem:\r\n * https://stackoverflow.com/questions/19742805/angular-and-svg-filters/19753427#19753427\r\n * https://github.com/jaames/iro.js/issues/18\r\n * https://github.com/jaames/iro.js/issues/45\r\n * https://github.com/jaames/iro.js/pull/89\r\n * @props url - SVG reference URL\r\n */\n\nfunction resolveSvgUrl(url) {\n  if (!BASE_ELEMENTS) { BASE_ELEMENTS = document.getElementsByTagName('base'); } // Sniff useragent string to check if the user is running Safari\n\n  var ua = window.navigator.userAgent;\n  var isSafari = /^((?!chrome|android).)*safari/i.test(ua);\n  var isIos = /iPhone|iPod|iPad/i.test(ua);\n  var location = window.location;\n  return (isSafari || isIos) && BASE_ELEMENTS.length > 0 ? location.protocol + \"//\" + location.host + location.pathname + location.search + url : url;\n}\n/**\r\n * @desc Given a specifc (x, y) position, test if there's a handle there and return its index, else return null.\r\n *       This is used for components like the box and wheel which support multiple handles when multicolor is active\r\n * @props x - point x position\r\n * @props y - point y position\r\n * @props handlePositions - array of {x, y} coords for each handle\r\n */\n\nfunction getHandleAtPoint(props, x, y, handlePositions) {\n  for (var i = 0; i < handlePositions.length; i++) {\n    var dX = handlePositions[i].x - x;\n    var dY = handlePositions[i].y - y;\n    var dist = Math.sqrt(dX * dX + dY * dY);\n\n    if (dist < props.handleRadius) {\n      return i;\n    }\n  }\n\n  return null;\n}\n\nfunction cssBorderStyles(props) {\n  return {\n    boxSizing: 'border-box',\n    border: props.borderWidth + \"px solid \" + props.borderColor\n  };\n}\nfunction cssGradient(type, direction, stops) {\n  return type + \"-gradient(\" + direction + \", \" + stops.map(function (_ref) {\n    var o = _ref[0],\n        col = _ref[1];\n    return col + \" \" + o + \"%\";\n  }).join(',') + \")\";\n}\nfunction cssValue(value) {\n  if (typeof value === 'string') { return value; }\n  return value + \"px\";\n}\n\nvar iroColorPickerOptionDefaults = {\n  width: 300,\n  height: 300,\n  color: '#fff',\n  colors: [],\n  padding: 6,\n  layoutDirection: 'vertical',\n  borderColor: '#fff',\n  borderWidth: 0,\n  handleRadius: 8,\n  activeHandleRadius: null,\n  handleSvg: null,\n  handleProps: {\n    x: 0,\n    y: 0\n  },\n  wheelLightness: true,\n  wheelAngle: 0,\n  wheelDirection: 'anticlockwise',\n  sliderSize: null,\n  sliderMargin: 12,\n  boxHeight: null\n};\n\nvar SECONDARY_EVENTS = [\"mousemove\" /* MouseMove */, \"touchmove\" /* TouchMove */, \"mouseup\" /* MouseUp */, \"touchend\" /* TouchEnd */];\r\n// Base component class for iro UI components\r\n// This extends the Preact component class to allow them to react to mouse/touch input events by themselves\r\nvar IroComponentWrapper = /*@__PURE__*/(function (Component) {\n    function IroComponentWrapper(props) {\r\n        Component.call(this, props);\r\n        // Generate unique ID for the component\r\n        // This can be used to generate unique IDs for gradients, etc\r\n        this.uid = (Math.random() + 1).toString(36).substring(5);\r\n    }\n\n    if ( Component ) IroComponentWrapper.__proto__ = Component;\n    IroComponentWrapper.prototype = Object.create( Component && Component.prototype );\n    IroComponentWrapper.prototype.constructor = IroComponentWrapper;\r\n    IroComponentWrapper.prototype.render = function render (props) {\r\n        var eventHandler = this.handleEvent.bind(this);\r\n        var rootProps = {\r\n            onMouseDown: eventHandler,\r\n            // https://github.com/jaames/iro.js/issues/126\r\n            // https://github.com/preactjs/preact/issues/2113#issuecomment-553408767\r\n            ontouchstart: eventHandler,\r\n        };\r\n        var isHorizontal = props.layoutDirection === 'horizontal';\r\n        var margin = props.margin === null ? props.sliderMargin : props.margin;\r\n        var rootStyles = {\r\n            overflow: 'visible',\r\n            display: isHorizontal ? 'inline-block' : 'block'\r\n        };\r\n        // first component shouldn't have any margin\r\n        if (props.index > 0) {\r\n            rootStyles[isHorizontal ? 'marginLeft' : 'marginTop'] = margin;\r\n        }\r\n        return (h(d, null, props.children(this.uid, rootProps, rootStyles)));\r\n    };\r\n    // More info on handleEvent:\r\n    // https://medium.com/@WebReflection/dom-handleevent-a-cross-platform-standard-since-year-2000-5bf17287fd38\r\n    // TL;DR this lets us have a single point of entry for multiple events, and we can avoid callback/binding hell\r\n    IroComponentWrapper.prototype.handleEvent = function handleEvent (e) {\n        var this$1 = this;\n\r\n        var inputHandler = this.props.onInput;\r\n        // Get the screen position of the component\r\n        var bounds = this.base.getBoundingClientRect();\r\n        // Prefect default browser action\r\n        e.preventDefault();\r\n        // Detect if the event is a touch event by checking if it has the `touches` property\r\n        // If it is a touch event, use the first touch input\r\n        var point = e.touches ? e.changedTouches[0] : e;\r\n        var x = point.clientX - bounds.left;\r\n        var y = point.clientY - bounds.top;\r\n        switch (e.type) {\r\n            case \"mousedown\" /* MouseDown */:\r\n            case \"touchstart\" /* TouchStart */:\r\n                var result = inputHandler(x, y, 0 /* Start */);\r\n                if (result !== false) {\r\n                    SECONDARY_EVENTS.forEach(function (event) {\r\n                        document.addEventListener(event, this$1, { passive: false });\r\n                    });\r\n                }\r\n                break;\r\n            case \"mousemove\" /* MouseMove */:\r\n            case \"touchmove\" /* TouchMove */:\r\n                inputHandler(x, y, 1 /* Move */);\r\n                break;\r\n            case \"mouseup\" /* MouseUp */:\r\n            case \"touchend\" /* TouchEnd */:\r\n                inputHandler(x, y, 2 /* End */);\r\n                SECONDARY_EVENTS.forEach(function (event) {\r\n                    document.removeEventListener(event, this$1, { passive: false });\r\n                });\r\n                break;\r\n        }\r\n    };\n\n    return IroComponentWrapper;\n}(m));\n\nfunction IroHandle(props) {\r\n    var radius = props.r;\r\n    var url = props.url;\r\n    var cx = radius;\r\n    var cy = radius;\r\n    return (h(\"svg\", { className: (\"IroHandle IroHandle--\" + (props.index) + \" \" + (props.isActive ? 'IroHandle--isActive' : '')), style: {\r\n            '-webkit-tap-highlight-color': 'rgba(0, 0, 0, 0);',\r\n            transform: (\"translate(\" + (cssValue(props.x)) + \", \" + (cssValue(props.y)) + \")\"),\r\n            willChange: 'transform',\r\n            top: cssValue(-radius),\r\n            left: cssValue(-radius),\r\n            width: cssValue(radius * 2),\r\n            height: cssValue(radius * 2),\r\n            position: 'absolute',\r\n            overflow: 'visible'\r\n        } },\r\n        url && (h(\"use\", Object.assign({ xlinkHref: resolveSvgUrl(url) }, props.props))),\r\n        !url && (h(\"circle\", { cx: cx, cy: cy, r: radius, fill: \"none\", \"stroke-width\": 2, stroke: \"#000\" })),\r\n        !url && (h(\"circle\", { cx: cx, cy: cy, r: radius - 2, fill: props.fill, \"stroke-width\": 2, stroke: \"#fff\" }))));\r\n}\r\nIroHandle.defaultProps = {\r\n    fill: 'none',\r\n    x: 0,\r\n    y: 0,\r\n    r: 8,\r\n    url: null,\r\n    props: { x: 0, y: 0 }\r\n};\n\nfunction IroSlider(props) {\r\n    var activeIndex = props.activeIndex;\r\n    var activeColor = (activeIndex !== undefined && activeIndex < props.colors.length) ? props.colors[activeIndex] : props.color;\r\n    var ref = getSliderDimensions(props);\n    var width = ref.width;\n    var height = ref.height;\n    var radius = ref.radius;\r\n    var handlePos = getSliderHandlePosition(props, activeColor);\r\n    var gradient = getSliderGradient(props, activeColor);\r\n    function handleInput(x, y, type) {\r\n        var value = getSliderValueFromInput(props, x, y);\r\n        props.parent.inputActive = true;\r\n        activeColor[props.sliderType] = value;\r\n        props.onInput(type, props.id);\r\n    }\r\n    return (h(IroComponentWrapper, Object.assign({}, props, { onInput: handleInput }), function (uid, rootProps, rootStyles) { return (h(\"div\", Object.assign({}, rootProps, { className: \"IroSlider\", style: Object.assign({}, {position: 'relative',\r\n            width: cssValue(width),\r\n            height: cssValue(height),\r\n            borderRadius: cssValue(radius),\r\n            // checkered bg to represent alpha\r\n            background: \"conic-gradient(#ccc 25%, #fff 0 50%, #ccc 0 75%, #fff 0)\",\r\n            backgroundSize: '8px 8px'},\r\n            rootStyles) }),\r\n        h(\"div\", { className: \"IroSliderGradient\", style: Object.assign({}, {position: 'absolute',\r\n                top: 0,\r\n                left: 0,\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                borderRadius: cssValue(radius),\r\n                background: cssGradient('linear', props.layoutDirection === 'horizontal' ? 'to top' : 'to right', gradient)},\r\n                cssBorderStyles(props)) }),\r\n        h(IroHandle, { isActive: true, index: activeColor.index, r: props.handleRadius, url: props.handleSvg, props: props.handleProps, x: handlePos.x, y: handlePos.y }))); }));\r\n}\r\nIroSlider.defaultProps = Object.assign({}, sliderDefaultOptions);\n\nfunction IroBox(props) {\r\n    var ref = getBoxDimensions(props);\n    var width = ref.width;\n    var height = ref.height;\n    var radius = ref.radius;\r\n    var colors = props.colors;\r\n    var colorPicker = props.parent;\r\n    var activeIndex = props.activeIndex;\r\n    var activeColor = (activeIndex !== undefined && activeIndex < props.colors.length) ? props.colors[activeIndex] : props.color;\r\n    var gradients = getBoxGradients(props, activeColor);\r\n    var handlePositions = colors.map(function (color) { return getBoxHandlePosition(props, color); });\r\n    function handleInput(x, y, inputType) {\r\n        if (inputType === 0 /* Start */) {\r\n            // getHandleAtPoint() returns the index for the handle if the point 'hits' it, or null otherwise\r\n            var activeHandle = getHandleAtPoint(props, x, y, handlePositions);\r\n            // If the input hit a handle, set it as the active handle, but don't update the color\r\n            if (activeHandle !== null) {\r\n                colorPicker.setActiveColor(activeHandle);\r\n            }\r\n            // If the input didn't hit a handle, set the currently active handle to that position\r\n            else {\r\n                colorPicker.inputActive = true;\r\n                activeColor.hsv = getBoxValueFromInput(props, x, y);\r\n                props.onInput(inputType, props.id);\r\n            }\r\n        }\r\n        // move is fired when the user has started dragging\r\n        else if (inputType === 1 /* Move */) {\r\n            colorPicker.inputActive = true;\r\n            activeColor.hsv = getBoxValueFromInput(props, x, y);\r\n        }\r\n        // let the color picker fire input:start, input:move or input:end events\r\n        props.onInput(inputType, props.id);\r\n    }\r\n    return (h(IroComponentWrapper, Object.assign({}, props, { onInput: handleInput }), function (uid, rootProps, rootStyles) { return (h(\"div\", Object.assign({}, rootProps, { className: \"IroBox\", style: Object.assign({}, {width: cssValue(width),\r\n            height: cssValue(height),\r\n            position: 'relative'},\r\n            rootStyles) }),\r\n        h(\"div\", { className: \"IroBox\", style: Object.assign({}, {width: '100%',\r\n                height: '100%',\r\n                borderRadius: cssValue(radius)},\r\n                cssBorderStyles(props),\r\n                {background: cssGradient('linear', 'to bottom', gradients[1])\r\n                    + ',' +\r\n                    cssGradient('linear', 'to right', gradients[0])}) }),\r\n        colors.filter(function (color) { return color !== activeColor; }).map(function (color) { return (h(IroHandle, { isActive: false, index: color.index, fill: color.hslString, r: props.handleRadius, url: props.handleSvg, props: props.handleProps, x: handlePositions[color.index].x, y: handlePositions[color.index].y })); }),\r\n        h(IroHandle, { isActive: true, index: activeColor.index, fill: activeColor.hslString, r: props.activeHandleRadius || props.handleRadius, url: props.handleSvg, props: props.handleProps, x: handlePositions[activeColor.index].x, y: handlePositions[activeColor.index].y }))); }));\r\n}\n\nvar HUE_GRADIENT_CLOCKWISE = 'conic-gradient(red, yellow, lime, aqua, blue, magenta, red)';\r\nvar HUE_GRADIENT_ANTICLOCKWISE = 'conic-gradient(red, magenta, blue, aqua, lime, yellow, red)';\r\nfunction IroWheel(props) {\r\n    var ref = getWheelDimensions(props);\n    var width = ref.width;\n    var colors = props.colors;\n    var borderWidth = props.borderWidth;\r\n    var colorPicker = props.parent;\r\n    var activeColor = props.color;\r\n    var hsv = activeColor.hsv;\r\n    var handlePositions = colors.map(function (color) { return getWheelHandlePosition(props, color); });\r\n    var circleStyles = {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        width: '100%',\r\n        height: '100%',\r\n        borderRadius: '50%',\r\n        boxSizing: 'border-box'\r\n    };\r\n    function handleInput(x, y, inputType) {\r\n        if (inputType === 0 /* Start */) {\r\n            // input hitbox is a square, \r\n            // so we want to ignore any initial clicks outside the circular shape of the wheel\r\n            if (!isInputInsideWheel(props, x, y)) {\r\n                // returning false will cease all event handling for this interaction\r\n                return false;\r\n            }\r\n            // getHandleAtPoint() returns the index for the handle if the point 'hits' it, or null otherwise\r\n            var activeHandle = getHandleAtPoint(props, x, y, handlePositions);\r\n            // If the input hit a handle, set it as the active handle, but don't update the color\r\n            if (activeHandle !== null) {\r\n                colorPicker.setActiveColor(activeHandle);\r\n            }\r\n            // If the input didn't hit a handle, set the currently active handle to that position\r\n            else {\r\n                colorPicker.inputActive = true;\r\n                activeColor.hsv = getWheelValueFromInput(props, x, y);\r\n                props.onInput(inputType, props.id);\r\n            }\r\n        }\r\n        // move is fired when the user has started dragging\r\n        else if (inputType === 1 /* Move */) {\r\n            colorPicker.inputActive = true;\r\n            activeColor.hsv = getWheelValueFromInput(props, x, y);\r\n        }\r\n        // let the color picker fire input:start, input:move or input:end events\r\n        props.onInput(inputType, props.id);\r\n    }\r\n    return (h(IroComponentWrapper, Object.assign({}, props, { onInput: handleInput }), function (uid, rootProps, rootStyles) { return (h(\"div\", Object.assign({}, rootProps, { className: \"IroWheel\", style: Object.assign({}, {width: cssValue(width),\r\n            height: cssValue(width),\r\n            position: 'relative'},\r\n            rootStyles) }),\r\n        h(\"div\", { className: \"IroWheelHue\", style: Object.assign({}, circleStyles,\r\n                {transform: (\"rotateZ(\" + (props.wheelAngle + 90) + \"deg)\"),\r\n                background: props.wheelDirection === 'clockwise' ? HUE_GRADIENT_CLOCKWISE : HUE_GRADIENT_ANTICLOCKWISE}) }),\r\n        h(\"div\", { className: \"IroWheelSaturation\", style: Object.assign({}, circleStyles,\r\n                {background: 'radial-gradient(circle closest-side, #fff, transparent)'}) }),\r\n        props.wheelLightness && (h(\"div\", { className: \"IroWheelLightness\", style: Object.assign({}, circleStyles,\r\n                {background: '#000',\r\n                opacity: 1 - hsv.v / 100}) })),\r\n        h(\"div\", { className: \"IroWheelBorder\", style: Object.assign({}, circleStyles,\r\n                cssBorderStyles(props)) }),\r\n        colors.filter(function (color) { return color !== activeColor; }).map(function (color) { return (h(IroHandle, { isActive: false, index: color.index, fill: color.hslString, r: props.handleRadius, url: props.handleSvg, props: props.handleProps, x: handlePositions[color.index].x, y: handlePositions[color.index].y })); }),\r\n        h(IroHandle, { isActive: true, index: activeColor.index, fill: activeColor.hslString, r: props.activeHandleRadius || props.handleRadius, url: props.handleSvg, props: props.handleProps, x: handlePositions[activeColor.index].x, y: handlePositions[activeColor.index].y }))); }));\r\n}\n\nfunction createWidget(WidgetComponent) {\r\n    var widgetFactory = function (parent, props) {\r\n        var widget; // will become an instance of the widget component class\r\n        var widgetRoot = document.createElement('div');\r\n        // Render widget into a temp DOM node\r\n        I(h(WidgetComponent, Object.assign({}, {ref: function (ref) { return widget = ref; }},\r\n            props)), widgetRoot);\r\n        function mountWidget() {\r\n            var container = parent instanceof Element ? parent : document.querySelector(parent);\r\n            container.appendChild(widget.base);\r\n            widget.onMount(container);\r\n        }\r\n        // Mount it into the DOM when the page document is ready\r\n        if (document.readyState !== 'loading') {\r\n            mountWidget();\r\n        }\r\n        else {\r\n            document.addEventListener('DOMContentLoaded', mountWidget);\r\n        }\r\n        return widget;\r\n    };\r\n    // Allow the widget factory to inherit component prototype + static class methods\r\n    // This makes it easier for plugin authors to extend the base widget component\r\n    widgetFactory.prototype = WidgetComponent.prototype;\r\n    Object.assign(widgetFactory, WidgetComponent);\r\n    // Add reference to base component too\r\n    widgetFactory.__component = WidgetComponent;\r\n    return widgetFactory;\r\n}\n\nvar IroColorPicker = /*@__PURE__*/(function (Component) {\n    function IroColorPicker(props) {\n        var this$1 = this;\n\r\n        Component.call(this, props);\r\n        this.colors = [];\r\n        this.inputActive = false;\r\n        this.events = {};\r\n        this.activeEvents = {};\r\n        this.deferredEvents = {};\r\n        this.id = props.id;\r\n        var colors = props.colors.length > 0 ? props.colors : [props.color];\r\n        colors.forEach(function (colorValue) { return this$1.addColor(colorValue); });\r\n        this.setActiveColor(0);\r\n        // Pass all the props into the component's state,\r\n        // Except we want to add the color object and make sure that refs aren't passed down to children\r\n        this.state = Object.assign({}, props,\r\n            {color: this.color,\r\n            colors: this.colors,\r\n            layout: props.layout});\r\n    }\n\n    if ( Component ) IroColorPicker.__proto__ = Component;\n    IroColorPicker.prototype = Object.create( Component && Component.prototype );\n    IroColorPicker.prototype.constructor = IroColorPicker;\r\n    // Plubic multicolor API\r\n    /**\r\n    * @desc Add a color to the color picker\r\n    * @param color new color to add\r\n    * @param index optional color index\r\n    */\r\n    IroColorPicker.prototype.addColor = function addColor (color, index) {\n        if ( index === void 0 ) index = this.colors.length;\n\r\n        // Create a new iro.Color\r\n        // Also bind it to onColorChange, so whenever the color changes it updates the color picker\r\n        var newColor = new IroColor(color, this.onColorChange.bind(this));\r\n        // Insert color @ the given index\r\n        this.colors.splice(index, 0, newColor);\r\n        // Reindex colors\r\n        this.colors.forEach(function (color, index) { return color.index = index; });\r\n        // Update picker state if necessary\r\n        if (this.state) {\r\n            this.setState({ colors: this.colors });\r\n        }\r\n        // Fire color init event\r\n        this.deferredEmit('color:init', newColor);\r\n    };\r\n    /**\r\n     * @desc Remove a color from the color picker\r\n     * @param index color index\r\n     */\r\n    IroColorPicker.prototype.removeColor = function removeColor (index) {\r\n        var color = this.colors.splice(index, 1)[0];\r\n        // Destroy the color object -- this unbinds it from the color picker\r\n        color.unbind();\r\n        // Reindex colors\r\n        this.colors.forEach(function (color, index) { return color.index = index; });\r\n        // Update picker state if necessary\r\n        if (this.state) {\r\n            this.setState({ colors: this.colors });\r\n        }\r\n        // If the active color was removed, default active color to 0\r\n        if (color.index === this.color.index) {\r\n            this.setActiveColor(0);\r\n        }\r\n        // Fire color remove event\r\n        this.emit('color:remove', color);\r\n    };\r\n    /**\r\n     * @desc Set the currently active color\r\n     * @param index color index\r\n     */\r\n    IroColorPicker.prototype.setActiveColor = function setActiveColor (index) {\r\n        this.color = this.colors[index];\r\n        if (this.state) {\r\n            this.setState({ color: this.color });\r\n        }\r\n        // Fire color switch event\r\n        this.emit('color:setActive', this.color);\r\n    };\r\n    /**\r\n     * @desc Replace all of the current colorPicker colors\r\n     * @param newColorValues list of new colors to add\r\n     */\r\n    IroColorPicker.prototype.setColors = function setColors (newColorValues, activeColorIndex) {\n        var this$1 = this;\n        if ( activeColorIndex === void 0 ) activeColorIndex = 0;\n\r\n        // Unbind color events\r\n        this.colors.forEach(function (color) { return color.unbind(); });\r\n        // Destroy old colors\r\n        this.colors = [];\r\n        // Add new colors\r\n        newColorValues.forEach(function (colorValue) { return this$1.addColor(colorValue); });\r\n        // Reset active color\r\n        this.setActiveColor(activeColorIndex);\r\n        this.emit('color:setAll', this.colors);\r\n    };\r\n    // Public ColorPicker events API\r\n    /**\r\n     * @desc Set a callback function for an event\r\n     * @param eventList event(s) to listen to\r\n     * @param callback - Function called when the event is fired\r\n     */\r\n    IroColorPicker.prototype.on = function on (eventList, callback) {\n        var this$1 = this;\n\r\n        var events = this.events;\r\n        // eventList can be an eventType string or an array of eventType strings\r\n        (!Array.isArray(eventList) ? [eventList] : eventList).forEach(function (eventType) {\r\n            // Add event callback\r\n            (events[eventType] || (events[eventType] = [])).push(callback);\r\n            // Call deferred events\r\n            // These are events that can be stored until a listener for them is added\r\n            if (this$1.deferredEvents[eventType]) {\r\n                // Deffered events store an array of arguments from when the event was called\r\n                this$1.deferredEvents[eventType].forEach(function (args) {\r\n                    callback.apply(null, args);\r\n                });\r\n                // Clear deferred events\r\n                this$1.deferredEvents[eventType] = [];\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * @desc Remove a callback function for an event added with on()\r\n     * @param eventList - event(s) to listen to\r\n     * @param callback - original callback function to remove\r\n     */\r\n    IroColorPicker.prototype.off = function off (eventList, callback) {\n        var this$1 = this;\n\r\n        (!Array.isArray(eventList) ? [eventList] : eventList).forEach(function (eventType) {\r\n            var callbackList = this$1.events[eventType];\r\n            // this.emitHook('event:off', eventType, callback);\r\n            if (callbackList)\r\n                { callbackList.splice(callbackList.indexOf(callback), 1); }\r\n        });\r\n    };\r\n    /**\r\n     * @desc Emit an event\r\n     * @param eventType event to emit\r\n     */\r\n    IroColorPicker.prototype.emit = function emit (eventType) {\n        var this$1 = this;\n        var args = [], len = arguments.length - 1;\n        while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\r\n        var activeEvents = this.activeEvents;\r\n        var isEventActive = activeEvents.hasOwnProperty(eventType) ? activeEvents[eventType] : false;\r\n        // Prevent event callbacks from firing if the event is already active\r\n        // This stops infinite loops if something in an event callback causes the same event to be fired again\r\n        // (e.g. setting the color inside a color:change callback)\r\n        if (!isEventActive) {\r\n            activeEvents[eventType] = true;\r\n            var callbackList = this.events[eventType] || [];\r\n            callbackList.forEach(function (fn) { return fn.apply(this$1, args); });\r\n            activeEvents[eventType] = false;\r\n        }\r\n    };\r\n    /**\r\n     * @desc Emit an event now, or save it for when the relevent event listener is added\r\n     * @param eventType - The name of the event to emit\r\n     */\r\n    IroColorPicker.prototype.deferredEmit = function deferredEmit (eventType) {\n        var ref;\n\n        var args = [], len = arguments.length - 1;\n        while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\r\n        var deferredEvents = this.deferredEvents;\r\n        (ref = this).emit.apply(ref, [ eventType ].concat( args ));\r\n        (deferredEvents[eventType] || (deferredEvents[eventType] = [])).push(args);\r\n    };\r\n    // Public utility methods\r\n    IroColorPicker.prototype.setOptions = function setOptions (newOptions) {\r\n        this.setState(newOptions);\r\n    };\r\n    /**\r\n     * @desc Resize the color picker\r\n     * @param width - new width\r\n     */\r\n    IroColorPicker.prototype.resize = function resize (width) {\r\n        this.setOptions({ width: width });\r\n    };\r\n    /**\r\n     * @desc Reset the color picker to the initial color provided in the color picker options\r\n     */\r\n    IroColorPicker.prototype.reset = function reset () {\r\n        this.colors.forEach(function (color) { return color.reset(); });\r\n        this.setState({ colors: this.colors });\r\n    };\r\n    /**\r\n     * @desc Called by the createWidget wrapper when the element is mounted into the page\r\n     * @param container - the container element for this ColorPicker instance\r\n     */\r\n    IroColorPicker.prototype.onMount = function onMount (container) {\r\n        this.el = container;\r\n        this.deferredEmit('mount', this);\r\n    };\r\n    // Internal methods\r\n    /**\r\n     * @desc React to a color update\r\n     * @param color - current color\r\n     * @param changes - shows which h,s,v,a color channels changed\r\n     */\r\n    IroColorPicker.prototype.onColorChange = function onColorChange (color, changes) {\r\n        this.setState({ color: this.color });\r\n        if (this.inputActive) {\r\n            this.inputActive = false;\r\n            this.emit('input:change', color, changes);\r\n        }\r\n        this.emit('color:change', color, changes);\r\n    };\r\n    /**\r\n     * @desc Handle input from a UI control element\r\n     * @param type - event type\r\n     */\r\n    IroColorPicker.prototype.emitInputEvent = function emitInputEvent (type, originId) {\r\n        if (type === 0 /* Start */) {\r\n            this.emit('input:start', this.color, originId);\r\n        }\r\n        else if (type === 1 /* Move */) {\r\n            this.emit('input:move', this.color, originId);\r\n        }\r\n        else if (type === 2 /* End */) {\r\n            this.emit('input:end', this.color, originId);\r\n        }\r\n    };\r\n    IroColorPicker.prototype.render = function render (props, state) {\n        var this$1 = this;\n\r\n        var layout = state.layout;\r\n        // use layout shorthands\r\n        if (!Array.isArray(layout)) {\r\n            switch (layout) {\r\n                // TODO: implement some?\r\n                default:\r\n                    layout = [\r\n                        { component: IroWheel },\r\n                        { component: IroSlider } ];\r\n            }\r\n            // add transparency slider to the layout\r\n            if (state.transparency) {\r\n                layout.push({\r\n                    component: IroSlider,\r\n                    options: {\r\n                        sliderType: 'alpha'\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        return (h(\"div\", { class: \"IroColorPicker\", id: state.id, style: {\r\n                display: state.display\r\n            } }, layout.map(function (ref, componentIndex) {\n                var UiComponent = ref.component;\n                var options = ref.options;\n\n                return (h(UiComponent, Object.assign({}, state, options, { ref: undefined, onInput: this$1.emitInputEvent.bind(this$1), parent: this$1, index: componentIndex })));\n        })));\r\n    };\n\n    return IroColorPicker;\n}(m));\r\nIroColorPicker.defaultProps = Object.assign({}, iroColorPickerOptionDefaults,\r\n    {colors: [],\r\n    display: 'block',\r\n    id: null,\r\n    layout: 'default',\r\n    margin: null});\r\nvar IroColorPickerWidget = createWidget(IroColorPicker);\n\nvar iro;\r\n(function (iro) {\r\n    iro.version = \"5.5.2\"; // replaced by @rollup/plugin-replace; see rollup.config.js\r\n    iro.Color = IroColor;\r\n    iro.ColorPicker = IroColorPickerWidget;\r\n    var ui;\r\n    (function (ui) {\r\n        ui.h = h;\r\n        ui.ComponentBase = IroComponentWrapper;\r\n        ui.Handle = IroHandle;\r\n        ui.Slider = IroSlider;\r\n        ui.Wheel = IroWheel;\r\n        ui.Box = IroBox;\r\n    })(ui = iro.ui || (iro.ui = {}));\r\n})(iro || (iro = {}));\r\nvar iro$1 = iro;\n\nexport default iro$1;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}